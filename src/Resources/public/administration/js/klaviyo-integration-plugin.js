!function(e){var n={};function t(i){if(n[i])return n[i].exports;var a=n[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:i})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)t.d(i,a,function(n){return e[n]}.bind(null,a));return i},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/bundles/administration/",t(t.s="1sTl")}({"1sTl":function(e,n,t){"use strict";t.r(n);var i=t("CgZK"),a=t.n(i);Shopware.Component.override("sw-system-config",{template:a.a});var o=t("eCqF"),r=t("ROuy"),l=t.n(r);t("KBQ/");function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var c=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.apiService=n,this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1,this.date=t}var n,t,i;return n=e,(t=[{key:"scheduleSynchronization",value:function(){var e=this.apiService.scheduleSynchronization();return this.isSynchronizationInProgress=!0,e.then(function(e){this.isSynchronizationSuccess=!!e.data.isScheduled}.bind(this)).catch(function(e){this.isSynchronizationSuccess=!1}.bind(this)).finally(function(){this.isSynchronizationInProgress=!1}.bind(this)),e}},{key:"resetSynchronizationState",value:function(){this.isSynchronizationInProgress=!1,this.isSynchronizationSuccess=!1}}])&&s(n.prototype,t),i&&s(n,i),e}(),d=Shopware,u=d.Component,h=d.Mixin,p=Shopware.Utils.format.date;u.register("klaviyo-historical-events-synchronization-control",{template:l.a,inject:["klaviyoHistoricalEventsSynchronizationApiService","klaviyoSubscribersSynchronizationApiService"],snippets:{"en-GB":o},mixins:[h.getByName("notification")],data:function(){return{historicalEventsJobInteractor:new c(this.klaviyoHistoricalEventsSynchronizationApiService,p),subscribersSynchronizationJobInteractor:new c(this.klaviyoSubscribersSynchronizationApiService,p)}},methods:{scheduleHistoricalEventsSynchronization:function(){this.historicalEventsJobInteractor.scheduleSynchronization().then(function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}.bind(this)).catch(function(e){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.failed")})}.bind(this))},scheduleSubscribersSynchronization:function(){this.subscribersSynchronizationJobInteractor.scheduleSynchronization().then(function(e){e.data.isScheduled?this.createNotificationSuccess({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.success")}):"SYNCHRONIZATION_IS_ALREADY_RUNNING"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_running")}):"SYNCHRONIZATION_IS_ALREADY_SCHEDULED"===e.data.errorCode?this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.is_scheduled")}):this.createNotificationWarning({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}.bind(this)).catch(function(){this.createNotificationError({message:this.$tc("klaviyo_integration_plugin.subscribers.schedule_synchronization.failed")})}.bind(this))},resetSubscribersSynchronizationState:function(){this.subscribersSynchronizationJobInteractor.resetSynchronizationState()},resetHistoricalEventsSynchronizationState:function(){this.historicalEventsJobInteractor.resetSynchronizationState()}}});var g=t("JHqg"),f=t.n(g);function y(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Shopware.Component.override("sw-promotion-v2-list",{template:f.a,methods:{getExportUrl:function(){return Shopware.Context.api.apiPath+"/klaviyo/integration/promotion/export"}}});var v=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=n,this.loginService=t,this.name="klaviyoHistoricalEventsSynchronizationApiService"}var n,t,i;return n=e,(t=[{key:"scheduleSynchronization",value:function(){var e=this.getHeaders();return this.httpClient.post("/klaviyo/integration/job/_action/historical-event-tracking/synchronization/schedule",{},{headers:e})}},{key:"getHeaders",value:function(){return{Accept:"application/json",Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"}}}])&&y(n.prototype,t),i&&y(n,i),e}();function b(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.httpClient=n,this.loginService=t,this.name="klaviyoSubscribersSynchronizationApiService"}var n,t,i;return n=e,(t=[{key:"scheduleSynchronization",value:function(){var e=this.getHeaders();return this.httpClient.post("/klaviyo/integration/job/_action/subscribers/synchronization/schedule",{},{headers:e})}},{key:"getHeaders",value:function(){return{Accept:"application/json",Authorization:"Bearer ".concat(this.loginService.getToken()),"Content-Type":"application/json"}}}])&&b(n.prototype,t),i&&b(n,i),e}();Shopware.Service().register("klaviyoHistoricalEventsSynchronizationApiService",(function(e){var n=Shopware.Application.getContainer("init");return new v(n.httpClient,e.loginService)})),Shopware.Service().register("klaviyoSubscribersSynchronizationApiService",(function(e){var n=Shopware.Application.getContainer("init");return new k(n.httpClient,e.loginService)}));var m=t("5FEn"),w=t.n(m),_=t("kk4G"),S=t.n(_),C=t("U6KF"),I=t.n(C);Shopware.Service("exportTemplateService").registerProductExportTemplate({name:"klaviyo-product-feed",translationKey:"klaviyo_integration_plugin.productComparison.templates.template-label.klaviyo-product-feed",headerTemplate:w.a.trim(),bodyTemplate:S.a,footerTemplate:I.a.trim(),fileName:"klaviyo.xml",encoding:"UTF-8",fileFormat:"xml",generateByCronjob:!1,interval:86400});var P=t("p4pc"),T=t.n(P);Shopware.Component.register("klaviyo-job-listing",{template:T.a,computed:{klaviyoJobTypes:function(){return["od-klaviyo-events-sync-handler","od-klaviyo-cart-event-sync-handler","od-klaviyo-full-order-sync-handler","od-klaviyo-full-subscriber-sync-handler","od-klaviyo-order-event-sync-handler","od-klaviyo-order-sync-handler","od-klaviyo-subscriber-sync-handler"]}},methods:{onRefresh:function(){this.$refs.jobListing.onRefresh()}}});var x=t("m1yw"),K=t.n(x),z=(t("DnSW"),Shopware),O=z.Component,F=z.Defaults,A=Shopware.Data.Criteria;O.register("klaviyo-integration-settings",{template:K.a,inject:["repositoryFactory"],data:function(){return{isLoading:!1,isSaveSuccessful:!1,defaultAccountNameFilled:!1,messageAccountBlankErrorState:null,config:null,salesChannels:[]}},metaInfo:function(){return{title:this.$createTitle()}},created:function(){this.createdComponent()},watch:{config:{handler:function(){this.$refs.configComponent.allConfigs.null,this.$refs.configComponent.selectedSalesChannelId},deep:!0}},computed:{salesChannelRepository:function(){return this.repositoryFactory.create("sales_channel")}},methods:{createdComponent:function(){this.getSalesChannels()},onChangeLanguage:function(){this.getSalesChannels()},getSalesChannels:function(){var e=this;this.isLoading=!0;var n=new A;n.addFilter(A.equalsAny("typeId",[F.storefrontSalesChannelTypeId,F.apiSalesChannelTypeId])),this.salesChannelRepository.search(n,Shopware.Context.api).then((function(n){n.add({id:null,translated:{name:e.$tc("sw-sales-channel-switch.labelDefaultOption")}}),e.salesChannels=n})).finally((function(){e.isLoading=!1}))},onSave:function(){var e=this;this.isLoading=!0,this.$refs.configComponent.save().then((function(){e.isSaveSuccessful=!0})).finally((function(){e.isLoading=!1}))}}});var D=t("5aUD"),V=t.n(D);function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==t)return;var i,a,o=[],r=!0,l=!1;try{for(t=t.call(e);!(r=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==t.return||t.return()}finally{if(l)throw a}}return o}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}Shopware.Component.register("klaviyo-integration-settings-general",{template:V.a,props:{actualConfigData:{type:Object,required:!0},allConfigs:{type:Object,required:!0},selectedSalesChannelId:{type:String,required:!1,default:null}},data:function(){return{configPath:"KlaviyoIntegrationPlugin.config",isLoading:!1,systemLanguages:[]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){for(var e="KlaviyoIntegrationPlugin.config.",n=0,t=Object.entries({catalogFeedProductsCount:25e3,trackViewedProduct:!0,trackRecentlyViewedItems:!0,trackAddedToCart:!0,trackStartedCheckout:!0,trackPlacedOrder:!0,trackOrderedProduct:!0,trackFulfilledOrder:!0,trackCancelledOrder:!0,trackRefundedOrder:!0});n<t.length;n++){var i=E(t[n],2),a=i[0],o=i[1];void 0===this.allConfigs.null[e+a]&&this.$set(this.allConfigs.null,e+a,o)}},checkTextFieldInheritance:function(e){return"string"!=typeof e||e.length<=0},checkBoolFieldInheritance:function(e){return"boolean"!=typeof e}}});var $=t("5v6G"),j=t("gb/d");Shopware.Module.register("klaviyo-plugin",{type:"plugin",title:"klaviyo-job-listing.general.title",description:"klaviyo-job-listing.general.description",color:"#F88962",icon:"default-avatar-multiple",snippets:{"de-DE":$,"en-GB":j},routes:{index:{component:"klaviyo-job-listing",path:"index"},settings:{component:"klaviyo-integration-settings",path:"settings",meta:{parentPath:"sw.settings.index.plugins"}}},settingsItem:{group:"plugins",to:"klaviyo.plugin.settings",icon:"default-object-rocket",label:"klaviyo-integration-settings.label"},navigation:[{id:"klaviyo",label:"klaviyo-job-listing.menu.title",color:"#F88962",icon:"default-avatar-multiple",parent:"sw-marketing",path:"klaviyo.plugin.index",position:100}]})},"5FEn":function(e,n){e.exports='<?xml version="1.0" encoding="UTF-8" ?>\n<rss version="2.0" xmlns:g="http://base.google.com/ns/1.0" xmlns:atom="http://www.w3.org/2005/Atom">\n    <Products>\n'},"5aUD":function(e,n){e.exports='{% block klaviyo_integration_settings_general %}\n    <sw-card :title="$tc(\'klaviyo-integration-settings.general.title\')">\n        {% block klaviyo_integration_settings_general_private_api_key %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.privateApiKey\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.privateApiKey\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                <template #content="props">\n                    <sw-field\n                            :label="$tc(\'klaviyo-integration-settings.configs.privateApiKey.label\')"\n                            :helpText="$tc(\'klaviyo-integration-settings.configs.privateApiKey.helpText\')"\n                            type="text"\n                            :map-inheritance="props"\n                            :value="props.currentValue"\n                            :disabled="props.isInherited"\n                            required\n                            name="KlaviyoIntegrationPlugin.config.privateApiKey"\n                            @input="props.updateCurrentValue"></sw-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_public_api_key %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.publicApiKey\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.publicApiKey\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                <template #content="props">\n                    <sw-field\n                            :label="$tc(\'klaviyo-integration-settings.configs.publicApiKey.label\')"\n                            :helpText="$tc(\'klaviyo-integration-settings.configs.publicApiKey.helpText\')"\n                            type="text"\n                            :map-inheritance="props"\n                            :value="props.currentValue"\n                            :disabled="props.isInherited"\n                            required\n                            name="KlaviyoIntegrationPlugin.config.publicApiKey"\n                            @input="props.updateCurrentValue"></sw-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_klaviyo_list_for_subscribers_sync %}\n            <sw-inherit-wrapper\n                    v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync\']"\n                    :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync\']"\n                    :customInheritationCheckFunction="checkTextFieldInheritance">\n                <template #content="props">\n                    <sw-field\n                            :label="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.label\')"\n                            :helpText="$tc(\'klaviyo-integration-settings.configs.klaviyoListForSubscribersSync.helpText\')"\n                            type="text"\n                            :map-inheritance="props"\n                            :value="props.currentValue"\n                            :disabled="props.isInherited"\n                            required\n                            name="KlaviyoIntegrationPlugin.config.klaviyoListForSubscribersSync"\n                            @input="props.updateCurrentValue"></sw-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_catalog_feed_products_count %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.catalogFeedProductsCount\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.catalogFeedProductsCount\']"\n                                :customInheritationCheckFunction="checkTextFieldInheritance">\n                <template #content="props">\n                    <sw-field\n                            :label="$tc(\'klaviyo-integration-settings.configs.catalogFeedProductsCount.label\')"\n                            :helpText="$tc(\'klaviyo-integration-settings.configs.catalogFeedProductsCount.helpText\')"\n                            type="number"\n                            number-type="int"\n                            :min="1"\n                            :map-inheritance="props"\n                            :value="props.currentValue"\n                            :disabled="props.isInherited"\n                            required\n                            name="KlaviyoIntegrationPlugin.config.catalogFeedProductsCount"\n                            @input="props.updateCurrentValue"></sw-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_viewed_product %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackViewedProduct\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackViewedProduct\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackViewedProduct"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackViewedProduct.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_recently_viewed_items %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackRecentlyViewedItems"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackRecentlyViewedItems.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_added_to_cart %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackAddedToCart\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackAddedToCart\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackAddedToCart"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackAddedToCart.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_started_checkout %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackStartedCheckout\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackStartedCheckout\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackStartedCheckout"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackStartedCheckout.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_placed_order %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackPlacedOrder\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackPlacedOrder\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackPlacedOrder"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackPlacedOrder.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_ordered_product %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackOrderedProduct\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackOrderedProduct\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackOrderedProduct"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackOrderedProduct.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_fulfilled_order %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackFulfilledOrder\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackFulfilledOrder\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackFulfilledOrder"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackFulfilledOrder.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_cancelled_order %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackCancelledOrder\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackCancelledOrder\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackCancelledOrder"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackCancelledOrder.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_general_track_refunded_order %}\n            <sw-inherit-wrapper v-model="actualConfigData[\'KlaviyoIntegrationPlugin.config.trackRefundedOrder\']"\n                                :inheritedValue="selectedSalesChannelId === null ? null : allConfigs[\'null\'][\'KlaviyoIntegrationPlugin.config.trackRefundedOrder\']"\n                                :customInheritationCheckFunction="checkBoolFieldInheritance">\n                <template #content="props">\n                    <sw-switch-field name="KlaviyoIntegrationPlugin.config.trackRefundedOrder"\n                                     :mapInheritance="props"\n                                     :label="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.label\')"\n                                     :helpText="$tc(\'klaviyo-integration-settings.configs.trackRefundedOrder.helpText\')"\n                                     :disabled="props.isInherited"\n                                     :value="props.currentValue"\n                                     @change="props.updateCurrentValue">\n                    </sw-switch-field>\n                </template>\n            </sw-inherit-wrapper>\n        {% endblock %}\n\n    </sw-card>\n{% endblock %}'},"5v6G":function(e){e.exports=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Job Listing Pages","description":"job-listing"},"menu":{"title":"Klaviyo Job Listing"},"page":{"listing":{"title":"Job Listing","description":"List of Jobs","grid":{"column":{"type":"Type","message":"Message","status":"Status","name":"Name","started-at":"Started at","finished-at":"Finished at","created-at":"Created at"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Children"}},"actions":{"reschedule-job":{"button":{"label":"Reschedule job"}},"show-messages":{"button":{"label":"Show messages"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"General"},"configs":{"privateApiKey":{"label":"Klaviyo Private API key","helpText":"Klaviyo Private API key. You can find it in your klaviyo account"},"publicApiKey":{"label":"Klaviyo Public API key","helpText":"Klaviyo Public API key. You can find it in your klaviyo account"},"klaviyoListForSubscribersSync":{"label":"Klaviyo List name for subscribers sync","helpText":"The name of the Subscribers list in klaviyo where all Shopware 6 subscribers will be added.\\n In case of duplicate names first found list will be used"},"catalogFeedProductsCount":{"label":"Klaviyo Catalog Feed Maximum items count","helpText":"Maximum number of items in the catalog feed which Shopware 6 will provide to the Klaviyo, by default it is 25000 which is an amount allowed by Klaviyo by default.\\nIf you have more than 25000 products please update this configuration value and contact klaviyo support in order to extend this limit on their side.\\nIf this configuration value will be less than products count, then only most recent products will be added to the catalog feed"},"trackViewedProduct":{"label":"Track Viewed Product","helpText":"Do we need to send \\"Viewed Product\\" Event to Klaviyo?"},"trackRecentlyViewedItems":{"label":"Track Recently Viewed Items","helpText":"Do we need to send \\"Recently Viewed Items\\" Event to Klaviyo?"},"trackAddedToCart":{"label":"Track Added to Cart","helpText":"Do we need to send \\"Added to Cart Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackStartedCheckout":{"label":"Track Started Checkout","helpText":"Do we need to send \\"Started Checkout Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackPlacedOrder":{"label":"Track Placed Order","helpText":"Do we need to send \\"Placed Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackOrderedProduct":{"label":"Track Ordered Product","helpText":"Do we need to send \\"Ordered Product Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackFulfilledOrder":{"label":"Track Fulfilled Order","helpText":"Do we need to send \\"Fulfilled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackCancelledOrder":{"label":"Track Cancelled Order","helpText":"Do we need to send \\"Cancelled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackRefundedOrder":{"label":"Track Refunded Order","helpText":"Do we need to send \\"Refunded Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"}}}}')},CgZK:function(e,n){e.exports="{% block sw_system_config_content_card %}\n    <klaviyo-historical-events-synchronization-control v-if=\"domain==='KlaviyoIntegrationPlugin.config'\">\n    </klaviyo-historical-events-synchronization-control>\n    {% parent %}\n{% endblock %}\n\n{% parent %}\n"},DnSW:function(e,n,t){var i=t("sxrZ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t("SZ7m").default)("2acb9059",i,!0,{})},JHqg:function(e,n){e.exports='{% block sw_promotion_v2_list_smart_bar_actions_add %}\n    {% parent %}\n    <sw-button\n            :link="getExportUrl()"\n            variant="primary"\n    >\n        {{ $tc(\'klaviyo_integration_plugin.promotion.exportInKlaviyoFormatButtonLabel\') }}\n    </sw-button>\n{% endblock %}\n\n{% parent %}'},"KBQ/":function(e,n,t){var i=t("b7uX");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t("SZ7m").default)("2566fad6",i,!0,{})},ROuy:function(e,n){e.exports='<div class="klaviyo-historical-events-synchronization-control-wrapper">\n    <sw-card hero="true">\n        <sw-container columns="1fr 1fr">\n            <sw-card-section>\n                <sw-button-process variant="ghost"\n                                   :isLoading="historicalEventsJobInteractor.isSynchronizationInProgress"\n                                   :processSuccess="historicalEventsJobInteractor.isSynchronizationSuccess"\n                                   @click="scheduleHistoricalEventsSynchronization"\n                                   @process-finish="resetHistoricalEventsSynchronizationState"\n                >\n                    {{ $tc(\'klaviyo_integration_plugin.historical_events_tracking.schedule_synchronization.button_label\') }}\n                </sw-button-process>\n            </sw-card-section>\n            <sw-card-section>\n                <sw-button-process variant="ghost"\n                                   :isLoading="subscribersSynchronizationJobInteractor.isSynchronizationInProgress"\n                                   :processSuccess="subscribersSynchronizationJobInteractor.isSynchronizationSuccess"\n                                   @click="scheduleSubscribersSynchronization"\n                                   @process-finish="resetSubscribersSynchronizationState"\n                >\n                    {{ $tc(\'klaviyo_integration_plugin.subscribers.schedule_synchronization.button_label\') }}\n                </sw-button-process>\n            </sw-card-section>\n        </sw-container>\n    </sw-card>\n</div>\n'},SZ7m:function(e,n,t){"use strict";function i(e,n){for(var t=[],i={},a=0;a<n.length;a++){var o=n[a],r=o[0],l={id:e+":"+a,css:o[1],media:o[2],sourceMap:o[3]};i[r]?i[r].parts.push(l):t.push(i[r]={id:r,parts:[l]})}return t}t.r(n),t.d(n,"default",(function(){return g}));var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},r=a&&(document.head||document.getElementsByTagName("head")[0]),l=null,s=0,c=!1,d=function(){},u=null,h="data-vue-ssr-id",p="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,n,t,a){c=t,u=a||{};var r=i(e,n);return f(r),function(n){for(var t=[],a=0;a<r.length;a++){var l=r[a];(s=o[l.id]).refs--,t.push(s)}n?f(r=i(e,n)):r=[];for(a=0;a<t.length;a++){var s;if(0===(s=t[a]).refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete o[s.id]}}}}function f(e){for(var n=0;n<e.length;n++){var t=e[n],i=o[t.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](t.parts[a]);for(;a<t.parts.length;a++)i.parts.push(v(t.parts[a]));i.parts.length>t.parts.length&&(i.parts.length=t.parts.length)}else{var r=[];for(a=0;a<t.parts.length;a++)r.push(v(t.parts[a]));o[t.id]={id:t.id,refs:1,parts:r}}}}function y(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function v(e){var n,t,i=document.querySelector("style["+h+'~="'+e.id+'"]');if(i){if(c)return d;i.parentNode.removeChild(i)}if(p){var a=s++;i=l||(l=y()),n=m.bind(null,i,a,!1),t=m.bind(null,i,a,!0)}else i=y(),n=w.bind(null,i),t=function(){i.parentNode.removeChild(i)};return n(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;n(e=i)}else t()}}var b,k=(b=[],function(e,n){return b[e]=n,b.filter(Boolean).join("\n")});function m(e,n,t,i){var a=t?"":i.css;if(e.styleSheet)e.styleSheet.cssText=k(n,a);else{var o=document.createTextNode(a),r=e.childNodes;r[n]&&e.removeChild(r[n]),r.length?e.insertBefore(o,r[n]):e.appendChild(o)}}function w(e,n){var t=n.css,i=n.media,a=n.sourceMap;if(i&&e.setAttribute("media",i),u.ssrId&&e.setAttribute(h,n.id),a&&(t+="\n/*# sourceURL="+a.sources[0]+" */",t+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},U6KF:function(e,n){e.exports="</Products>\n</rss>\n"},b7uX:function(e,n,t){},eCqF:function(e){e.exports=JSON.parse('{"klaviyo_integration_plugin":{"not_available":"N/A","subscribers":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Subscribers synchronization status"},"schedule_synchronization":{"button_label":"Synchronize subscribers","success":"Subscribers synchronization scheduled","failed":"Subscribers synchronization failed to schedule","is_running":"Subscribers synchronization is already running","is_scheduled":"Subscribers synchronization is already scheduled"}},"historical_events_tracking":{"last_synchronization_status":{"finished":"Last Synchronization: {status} ({date})","not_finished":"Last Synchronization: {status}"},"last_success_synchronization":"Last Success Synchronization: {date}","get_synchronization_status":{"failed":"Failed to get Last Historical Events Tracking synchronization status"},"schedule_synchronization":{"button_label":"Synchronize historical events","success":"Historical events synchronization scheduled","failed":"Historical events synchronization failed to schedule","is_running":"Historical events synchronization is already running","is_scheduled":"Historical events synchronization is already scheduled"}},"promotion":{"exportInKlaviyoFormatButtonLabel":"Export in Klaviyo Format"},"productComparison":{"templates":{"template-label":{"klaviyo-product-feed":"Klaviyo (XML)"}}}}}')},"gb/d":function(e){e.exports=JSON.parse('{"klaviyo-job-listing":{"general":{"title":"Job Listing Pages","description":"job-listing"},"menu":{"title":"Klaviyo Job Listing"},"page":{"listing":{"title":"Job Listing","description":"List of Jobs","grid":{"column":{"type":"Type","message":"Message","status":"Status","name":"Name","started-at":"Started at","finished-at":"Finished at","created-at":"Created at"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Children"}},"actions":{"reschedule-job":{"button":{"label":"Reschedule job"}},"show-messages":{"button":{"label":"Show messages"}}}},"klaviyo-integration-settings":{"label":"Klaviyo","title":"Klaviyo","general":{"title":"General"},"configs":{"privateApiKey":{"label":"Klaviyo Private API key","helpText":"Klaviyo Private API key. You can find it in your klaviyo account"},"publicApiKey":{"label":"Klaviyo Public API key","helpText":"Klaviyo Public API key. You can find it in your klaviyo account"},"klaviyoListForSubscribersSync":{"label":"Klaviyo List name for subscribers sync","helpText":"The name of the Subscribers list in klaviyo where all Shopware 6 subscribers will be added.\\n In case of duplicate names first found list will be used"},"catalogFeedProductsCount":{"label":"Klaviyo Catalog Feed Maximum items count","helpText":"Maximum number of items in the catalog feed which Shopware 6 will provide to the Klaviyo, by default it is 25000 which is an amount allowed by Klaviyo by default.\\nIf you have more than 25000 products please update this configuration value and contact klaviyo support in order to extend this limit on their side.\\nIf this configuration value will be less than products count, then only most recent products will be added to the catalog feed"},"trackViewedProduct":{"label":"Track Viewed Product","helpText":"Do we need to send \\"Viewed Product\\" Event to Klaviyo?"},"trackRecentlyViewedItems":{"label":"Track Recently Viewed Items","helpText":"Do we need to send \\"Recently Viewed Items\\" Event to Klaviyo?"},"trackAddedToCart":{"label":"Track Added to Cart","helpText":"Do we need to send \\"Added to Cart Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackStartedCheckout":{"label":"Track Started Checkout","helpText":"Do we need to send \\"Started Checkout Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackPlacedOrder":{"label":"Track Placed Order","helpText":"Do we need to send \\"Placed Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackOrderedProduct":{"label":"Track Ordered Product","helpText":"Do we need to send \\"Ordered Product Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackFulfilledOrder":{"label":"Track Fulfilled Order","helpText":"Do we need to send \\"Fulfilled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackCancelledOrder":{"label":"Track Cancelled Order","helpText":"Do we need to send \\"Cancelled Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"},"trackRefundedOrder":{"label":"Track Refunded Order","helpText":"Do we need to send \\"Refunded Order Event\\" to Klaviyo?\\nDecision will also affect Synchronization of the historical events"}}}}')},kk4G:function(e,n){e.exports="<Product>\n    <id>{{ product.productNumber }}</id>\n    <title>{{ product.translated.name|escape }}</title>\n    <link>{{ seoUrl('frontend.detail.page', {'productId': product.id}) }}</link>\n    <description>{{ product.translated.description|escape }}</description>\n    <price>{% set price = product.calculatedPrice %} {% if product.calculatedPrices.count %} {% set price = product.calculatedPrices.last %} {% endif %} {{ price.unitPrice }}</price>\n    <image_link>{{ product.cover.media.url }}</image_link>\n    {%- if product.categories|length > 0 -%}\n        {% set categoryNames = [] %}\n\n        {% for category in product.categories %}\n            {% set categoryNames = categoryNames|merge([category.translated.name]) %}\n        {% endfor %}\n        <categories>{{ categoryNames|join(',')|raw|escape }}</categories>\n    {%- else -%}\n        <categories>n/a</categories>\n    {%- endif -%}\n    <inventory_quantity>{{ product.availableStock }}</inventory_quantity>\n    <inventory_policy>1</inventory_policy>\n</Product>\n"},m1yw:function(e,n){e.exports='{% block klaviyo_integration_settings %}\n    <sw-page class="klaviyo-integration-settings">\n        {% block klaviyo_integration_settings_header %}\n            <template #smart-bar-header>\n                <h2>\n                    {{ $tc(\'sw-settings.index.title\') }}\n                    <sw-icon name="small-arrow-medium-right" small></sw-icon>\n                    {{ $tc(\'klaviyo-integration-settings.title\') }}\n                </h2>\n            </template>\n        {% endblock %}\n        {% block klaviyo_integration_settings_actions %}\n            <template #smart-bar-actions>\n                {% block klaviyo_integration_settings_actions_save %}\n                    <sw-button-process v-model="isSaveSuccessful"\n                                       class="klaviyo-integration-settings-save"\n                                       variant="primary"\n                                       :isLoading="isLoading"\n                                       :disabled="isLoading"\n                                       @click="onSave">\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button-process>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block klaviyo_integration_settings_content %}\n            <template #content>\n\n\n                {% block klaviyo_integration_settings_content_sales_channel_config %}\n                    <sw-sales-channel-config v-model="config"\n                                             ref="configComponent"\n                                             domain="KlaviyoIntegrationPlugin.config">\n                        {% block klaviyo_integration_settings_content_sales_channel_config_channel %}\n                            <template #select="{ onInput, selectedSalesChannelId }">\n                                {% block klaviyo_integration_settings_content_sales_channel_config_channel_card %}\n                                    <sw-card class="sw-card--grid"\n                                             :title="$tc(\'global.entities.sales_channel\', 2)">\n                                        <div class="card-container klaviyo-integration-settings-sales-channel">\n                                            {% block klaviyo_integration_settings_content_sales_channel_config_channel_card_select %}\n                                                <sw-single-select v-model="selectedSalesChannelId"\n                                                                  labelProperty="translated.name"\n                                                                  valueProperty="id"\n                                                                  :isLoading="isLoading"\n                                                                  :options="salesChannels"\n                                                                  @change="onInput">\n                                                </sw-single-select>\n                                            {% endblock %}\n                                        </div>\n                                    </sw-card>\n                                {% endblock %}\n                            </template>\n                        {% endblock %}\n\n                        {% block klaviyo_integration_settings_content_sales_channel_configs %}\n                            <template #content="{ actualConfigData, allConfigs, selectedSalesChannelId }">\n                                <div v-if="actualConfigData">\n\n                                    {% block klaviyo_integration_settings_content_sales_channel_general %}\n                                        <klaviyo-integration-settings-general\n                                                :actualConfigData="actualConfigData"\n                                                :allConfigs="allConfigs"\n                                                :selectedSalesChannelId="selectedSalesChannelId">\n                                        </klaviyo-integration-settings-general>\n                                    {% endblock %}\n\n                                </div>\n                            </template>\n                        {% endblock %}\n\n                    </sw-sales-channel-config>\n                {% endblock %}\n\n                {% block klaviyo_integration_settings_content_loading %}\n                    <sw-loader v-if="isLoading"></sw-loader>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n    </sw-page>\n{% endblock %}\n'},p4pc:function(e,n){e.exports='{% block job_listing_page %}\n    <sw-page class="swag-example-list">\n        <template slot="content">\n            <job-listing-index ref="jobListing"\n                               :autoReloadInterval="60000"\n                               :jobTypes="klaviyoJobTypes">\n            </job-listing-index>\n        </template>\n        <template #sidebar>\n            <sw-sidebar>\n                {% block sw_jobs_list_sidebar_refresh %}\n                    <sw-sidebar-item\n                        icon="default-arrow-360-left"\n                        :title="$tc(\'sw-product.list.titleSidebarItemRefresh\')"\n                        @click="onRefresh"\n                    />\n                {% endblock %}\n            </sw-sidebar>\n        </template>\n    </sw-page>\n{% endblock %}\n'},sxrZ:function(e,n,t){}});