/*! For license information please see od-scheduler.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/odscheduler/'),n(n.s="ovSi")}({"15N+":function(e,t,n){var o=n("n70t");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("1cb950fc",o,!0,{})},DHab:function(e,t,n){var o=n("KzGe");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("7462f187",o,!0,{})},DLC3:function(e,t,n){var o=n("ahA4");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("36416df9",o,!0,{})},HDTl:function(e,t,n){var o=n("vIYC");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("6f4bc700",o,!0,{})},IwiJ:function(e){e.exports=JSON.parse('{"job-listing":{"general":{"title":"Übersicht der Jobs","description":"Job Übersicht"},"menu":{"title":"Job Übersicht"},"page":{"listing":{"title":"Job Übersicht","description":"Liste der Jobs","index":{"display-mode":"Anzeigemodus","list":"Übersicht","grouped":"Gruppiert","chart":"Diagramm","group-by":"Gruppiere nach","status":"Status","job-type":"Job Typ","date-from":"Datum von","date-to":"Datum bis","auto-load":"Automatisches Laden","child-jobs":"Kinder-Jobs","messages":"Meldungen","show-sub-jobs":"Sub-Jobs anzeigen","show-job-messages":"Meldungen zu Jobs anzeigen","close":"Schließen","loading":"Wird geladen..."},"grouped-view":{"job-info":"Job-Die Info","job-messages":"Job-Meldungen","sub-jobs":"Sub-Jobs"},"grid":{"job-status":{"succeed":"erfolgreich","error":"fehlgeschlagen","pending":"ausstehend","running":"in Bearbeitung"},"column":{"type":"Typ","status":"Status","name":"Name","started-at":"Gestartet um","finished-at":"Fertig um","created-at":"Beendet um","child-jobs":"Kinder-Jobs","messages":"Meldungen","show-sub-jobs":"Unterjobs anzeigen","show-job-messages":"Meldungen zu Jobs anzeigen","close":"Schließen"},"message-modal":{"label":"Job-Meldungen"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Kinder-Jobs"}},"actions":{"reschedule-job":{"button":{"label":"Umplanen Job"}},"delete-job":{"button":{"label":"Job löschen"}},"view-job":{"button":{"label":"Job anzeigen"}},"show-messages":{"button":{"label":"Meldungen anzeigen"}}}}}')},KzGe:function(e,t,n){},P8hj:function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},s=0;s<t.length;s++){var i=t[s],a=i[0],l={id:e+":"+s,css:i[1],media:i[2],sourceMap:i[3]};o[a]?o[a].parts.push(l):n.push(o[a]={id:a,parts:[l]})}return n}n.r(t),n.d(t,"default",(function(){return g}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,r=0,c=!1,d=function(){},u=null,b="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,n,s){c=n,u=s||{};var a=o(e,t);return p(a),function(t){for(var n=[],s=0;s<a.length;s++){var l=a[s];(r=i[l.id]).refs--,n.push(r)}t?p(a=o(e,t)):a=[];for(s=0;s<n.length;s++){var r;if(0===(r=n[s]).refs){for(var c=0;c<r.parts.length;c++)r.parts[c]();delete i[r.id]}}}}function p(e){for(var t=0;t<e.length;t++){var n=e[t],o=i[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(h(n.parts[s]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(h(n.parts[s]));i[n.id]={id:n.id,refs:1,parts:a}}}}function f(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function h(e){var t,n,o=document.querySelector("style["+b+'~="'+e.id+'"]');if(o){if(c)return d;o.parentNode.removeChild(o)}if(m){var s=r++;o=l||(l=f()),t=v.bind(null,o,s,!1),n=v.bind(null,o,s,!0)}else o=f(),t=y.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var _,w=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function v(e,t,n,o){var s=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,s);else{var i=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function y(e,t){var n=t.css,o=t.media,s=t.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(b,t.id),s&&(n+="\n/*# sourceURL="+s.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},ahA4:function(e,t,n){},bspg:function(e){e.exports=JSON.parse('{"job-listing":{"general":{"title":"Job Listing Pages","description":"job-listing"},"menu":{"title":"Job Listing"},"page":{"listing":{"title":"Job Listing","description":"List of Jobs","index":{"display-mode":"Display Mode","list":"List","grouped":"Grouped","chart":"Chart","group-by":"Group by","status":"Status","job-type":"Job Type","date-from":"Date from","date-to":"Date to","auto-load":"Auto load","child-jobs":"Child Jobs","messages":"Messages","show-sub-jobs":"Show sub jobs","show-job-messages":"Show Job Messages","close":"Close","loading":"Loading..."},"grouped-view":{"job-info":"Job info","job-messages":"Job Messages","sub-jobs":"Sub jobs"},"grid":{"job-status":{"succeed":"Success","error":"Failed","pending":"Pending","running":"Running"},"column":{"type":"Type","status":"Status","name":"Name","started-at":"Started at","finished-at":"Finished at","created-at":"Created at","child-jobs":"Child Jobs","messages":"Messages","show-sub-jobs":"Show sub jobs","show-job-messages":"Show Job Messages","close":"Close"},"message-modal":{"label":"Job Messages"}}},"detail":{"textHeadline":"Job","jobChildrenTitle":"Job Children"}},"actions":{"reschedule-job":{"button":{"label":"Reschedule Job"}},"delete-job":{"button":{"label":"Delete Job"}},"view-job":{"button":{"label":"View Job"}},"show-messages":{"button":{"label":"Show Messages"}}}}}')},meBW:function(e,t,n){},n70t:function(e,t,n){},ovSi:function(e,t,n){"use strict";n.r(t);n("DHab");var o=Shopware.Component;Shopware.Data.Criteria;o.extend("od-entity-listing","sw-entity-listing",{template:'{% block sw_data_grid_bulk_selected_actions_content %}\n    {% block sw_data_grid_bulk_edit_content %}\n        \n        <a\n                v-if="allowBulkEdit"\n                class="link link-primary"\n                @click="onClickBulkEdit"\n        >\n            {{ $tc(\'global.sw-bulk-edit-modal.bulkEdit\') }}\n        </a>\n    {% endblock %}\n\n    {% block sw_data_grid_bulk_delete_content %}\n        \n        <a\n                v-if="allowDelete"\n                class="link link-danger"\n                @click="showBulkDeleteModal = true"\n        >\n            {{ $tc(\'global.default.delete\') }}\n        </a>\n    {% endblock %}\n{% endblock %}\n\n{% block sw_data_grid_slot_bulk_modals %}\n    {% block sw_data_grid_bulk_edit_modal %}\n        <slot\n                name="bulk-edit-modal"\n                v-bind="{ selection }"\n        >\n            {% block sw_data_grid_slot_bulk_edit_modal %}\n                <sw-bulk-edit-modal\n                        v-if="showBulkEditModal"\n                        :selection="selection"\n                        :bulk-grid-edit-columns="bulkGridEditColumns"\n                        @modal-close="onCloseBulkEditModal"\n                />\n            {% endblock %}\n        </slot>\n    {% endblock %}\n\n    {% block sw_data_grid_bulk_delete_modal %}\n        <sw-modal\n                v-if="showBulkDeleteModal"\n                variant="small"\n                :title="$tc(\'global.default.warning\')"\n                @modal-close="showBulkDeleteModal = false"\n        >\n            <p class="sw-data-grid__confirm-bulk-delete-text">\n                <slot\n                        name="bulk-modal-delete-confirm-text"\n                        v-bind="{ selectionCount }"\n                >\n                    {{ $tc(\'global.entity-components.deleteMessage\', selectionCount, { count: selectionCount }) }}\n                </slot>\n            </p>\n\n            <template #modal-footer>\n                <slot name="bulk-modal-cancel">\n                    <sw-button\n                            size="small"\n                            @click="showBulkDeleteModal = false"\n                    >\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                </slot>\n\n                <slot\n                        name="bulk-modal-delete-items"\n                        v-bind="{ isBulkLoading, deleteItems }"\n                >\n                    <sw-button\n                            variant="danger"\n                            size="small"\n                            :is-loading="isBulkLoading"\n                            @click="deleteItems"\n                    >\n                        {{ $tc(\'global.default.delete\') }}\n                    </sw-button>\n                </slot>\n            </template>\n        </sw-modal>\n    {% endblock %}\n{% endblock %}\n\n{% block sw_data_grid_slot_actions %}\n    <slot\n            name="detail-action"\n            v-bind="{ item }"\n    >\n        <sw-context-menu-item\n                v-if="detailRoute"\n                v-tooltip="{\n            message: $tc(\'sw-privileges.tooltip.warning\'),\n            disabled: allowEdit || allowView,\n            showOnDisabledElements: true,\n            zIndex: 9050,\n        }"\n                class="sw-entity-listing__context-menu-edit-action"\n                :disabled="!allowEdit && !allowView"\n                :router-link="{ name: detailRoute, params: { id: item.id } }"\n        >\n            {{ detailPageLinkText }}\n        </sw-context-menu-item>\n    </slot>\n\n    <slot\n            name="more-actions"\n            v-bind="{ item }"\n    ></slot>\n\n    <slot\n            name="delete-action"\n            v-bind="{ item, showDelete, allowDelete }"\n    >\n        <sw-context-menu-item\n                v-tooltip.bottom="{\n            message: $tc(\'sw-privileges.tooltip.warning\'),\n            disabled: allowDelete,\n            showOnDisabledElements: true,\n            zIndex: 9050,\n        }"\n                :disabled="!allowDelete"\n                class="sw-entity-listing__context-menu-edit-delete"\n                variant="danger"\n                @click="showDelete(item.id)"\n        >\n            {{ $tc(\'global.default.delete\') }}\n        </sw-context-menu-item>\n\n        <sw-context-menu-item\n                class="sw-entity-listing__context-menu-edit-test"\n                variant="info"\n        >\n            Test\n        </sw-context-menu-item>\n    </slot>\n{% endblock %}\n\n{% block sw_data_grid_slot_action_modals %}\n    <sw-modal\n            v-if="deleteId === item.id"\n            :title="$tc(\'global.default.warning\')"\n            variant="small"\n            @modal-close="closeModal"\n    >\n        <p class="sw-listing__confirm-delete-text">\n            <slot\n                    name="delete-confirm-text"\n                    v-bind="{ item }"\n            >\n                {{ $tc(\'global.entity-components.deleteMessage\') }}\n            </slot>\n        </p>\n\n        <template #modal-footer>\n            <slot\n                    name="delete-modal-footer"\n                    v-bind="{ item }"\n            >\n                <slot\n                        name="delete-modal-cancel"\n                        v-bind="{ item }"\n                >\n                    <sw-button\n                            size="small"\n                            @click="closeModal"\n                    >\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                </slot>\n\n                <slot\n                        name="delete-modal-delete-item"\n                        v-bind="{ item }"\n                >\n                    <sw-button\n                            variant="danger"\n                            size="small"\n                            @click="deleteItem(item.id)"\n                    >\n                        {{ $tc(\'global.default.delete\') }}\n                    </sw-button>\n                </slot>\n            </slot>\n        </template>\n    </sw-modal>\n\n\n{% endblock %}\n\n  {% block sw_data_grid_select_item_checkbox %}\n      <sw-checkbox-field\n              v-if="canDelete(item)"\n              :disabled="!isRecordSelectable(item)"\n              :value="isSelected(item[itemIdentifierProperty])"\n              @change="selectItem($event, item)"\n      />\n  {% endblock %}\n\n\n{% block sw_data_grid_table %}\n    <table ref="table"\n            class="sw-data-grid__table"\n    >\n\n        {% block sw_data_grid_header %}\n            <thead\n                    v-if="showHeader"\n                    class="sw-data-grid__header"\n            >\n\n            {% block sw_data_grid_header_row %}\n                <tr class="sw-data-grid__row">\n\n                    {% block sw_data_grid_header_cell_selection %}\n                        <th\n                                v-if="showSelection"\n                                class="sw-data-grid__cell sw-data-grid__cell--header sw-data-grid__cell--selection"\n                        >\n                            {% block sw_data_grid_header_cell_selection_content %}\n                                <div class="sw-data-grid__cell-content">\n                                    {% block sw_data_grid_select_all_checkbox %}\n                                        <sw-checkbox-field\n                                                v-if="records && records.length > 0"\n                                                :disabled="isSelectAllDisabled"\n                                                class="sw-data-grid__select-all"\n                                                :value="allSelectedChecked"\n                                                @change="selectAll"\n                                        />\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </th>\n                    {% endblock %}\n\n                    {% block sw_data_grid_header_columns %}\n                        <th\n                                v-for="(column, columnIndex) in currentColumns"\n                                v-show="column.visible"\n                                :key="`${column.property}-${columnIndex}`"\n                                ref="column"\n                                class="sw-data-grid__cell sw-data-grid__cell--header sw-data-grid__cell--property"\n                                :class="getHeaderCellClasses(column, columnIndex)"\n                                :style="{ width: column.width, minWidth: column.width }"\n                                @click="onClickHeaderCell($event, column)"\n                        >\n\n                            {% block sw_data_grid_header_columns_content %}\n                                <div class="sw-data-grid__cell-content">\n\n                                    <slot\n                                            :name="`column-label-${column.property}`"\n                                            v-bind="{ column, columnIndex }"\n                                    >\n\n                                        {% block sw_data_grid_header_columns_icon %}\n                                            <sw-icon\n                                                    v-if="column.iconLabel"\n                                                    :name="column.iconLabel"\n                                            >\n                                                {{ $te(column.label) ? $tc(column.label) : column.label }}\n                                            </sw-icon>\n                                        {% endblock %}\n\n                                        {% block sw_data_grid_header_columns_label %}\n                                            <template v-else>\n                                                {{ $te(column.label) ? $tc(column.label) : column.label }}\n                                            </template>\n                                        {% endblock %}\n                                    </slot>\n\n                                    {% block sw_data_grid_column_actions %}\n                                        <sw-context-button\n                                                v-if="allowColumnEdit && !isInlineEditActive"\n                                                class="sw-data-grid__action-edit-column"\n                                        >\n                                            {% block sw_data_grid_column_actions_hide %}\n                                                <sw-context-menu-item\n                                                        :disabled="column.primary"\n                                                        variant="danger"\n                                                        @click="hideColumn(columnIndex)"\n                                                >\n                                                    {{ $tc(\'global.sw-data-grid.labelColumnHide\') }}\n                                                </sw-context-menu-item>\n                                            {% endblock %}\n                                        </sw-context-button>\n                                    {% endblock %}\n\n                                    {% block sw_data_grid_sort_indicator %}\n                                        <span\n                                                v-if="column.sortable && currentSortBy === column.dataIndex"\n                                                class="sw-data-grid__sort-indicator"\n                                        >\n                                {% block sw_data_grid_sort_indicator_transition %}\n                                    <transition\n                                            name="sort-indicator"\n                                            mode="out-in"\n                                    >\n                                    {% block sw_data_grid_sort_indicator_icon_asc %}\n                                        <sw-icon\n                                                v-if="currentSortDirection === \'ASC\'"\n                                                key="ASC"\n                                                name="small-arrow-small-up"\n                                                size="16px"\n                                        />\n                                    {% endblock %}\n\n                                        {% block sw_data_grid_sort_indicator_icon_desc %}\n                                            <sw-icon\n                                                    v-else\n                                                    key="DESC"\n                                                    name="small-arrow-small-down"\n                                                    size="16px"\n                                            />\n                                        {% endblock %}\n                                </transition>\n                                {% endblock %}\n                            </span>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n\n                            {% block sw_data_grid_header_columns_resize %}\n                                <span\n                                        v-if="column.allowResize"\n                                        class="sw-data-grid__cell-resize"\n                                        @mousedown="onStartResize($event, column, columnIndex)"\n                                ></span>\n                            {% endblock %}\n                        </th>\n                    {% endblock %}\n\n                    {% block sw_data_grid_header_cell_spacer %}\n                        <th\n                                v-if="hasResizeColumns"\n                                aria-hidden="true"\n                                class="sw-data-grid__cell sw-data-grid__cell--header sw-data-grid__cell-spacer"\n                        >\n                            <div class="sw-data-grid__cell-content"></div>\n                        </th>\n                    {% endblock %}\n\n                    {% block sw_data_grid_header_cell_actions %}\n                        <th\n                                v-if="showActions"\n                                class="sw-data-grid__cell sw-data-grid__cell--header sw-data-grid__cell--actions sw-data-grid__cell-settings"\n                                :class="{ \'is--loading\': loading }"\n                        >\n                            {% block sw_data_grid_header_cell_actions_content %}\n                                <div class="sw-data-grid__cell-content">\n                                    {% block sw_data_grid_settings %}\n                                        <sw-data-grid-settings\n                                                v-if="showSettings"\n                                                :columns="currentColumns"\n                                                :compact="compact"\n                                                :previews="previews"\n                                                :enable-previews="hasPreviewSlots"\n                                                :disabled="isInlineEditActive"\n                                                @change-compact-mode="onChangeCompactMode"\n                                                @change-preview-images="onChangePreviews"\n                                                @change-column-visibility="onChangeColumnVisibility"\n                                                @change-column-order="onChangeColumnOrder"\n                                        >\n                                            {% block sw_data_grid_settings_additional_settings %}\n                                                <template #additionalSettings>\n                                                    {% block sw_data_grid_settings_additional_settings_inner %}\n                                                        <slot name="additionalSettings"></slot>\n                                                    {% endblock %}\n                                                </template>\n                                            {% endblock %}\n                                        </sw-data-grid-settings>\n\n                                        {% block sw_data_grid_settings_custom_settings %}\n                                            <slot name="customSettings">\n                                                {% block sw_data_grid_settings_custom_settings_slot %}{% endblock %}\n                                            </slot>\n                                        {% endblock %}\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </th>\n                    {% endblock %}\n                </tr>\n            {% endblock %}\n            </thead>\n        {% endblock %}\n\n        {% block sw_data_grid_body %}\n            <tbody\n                    v-if="!loading"\n                    class="sw-data-grid__body"\n            >\n\n            {% block sw_data_grid_body_row %}\n                <tr\n                        v-for="(item, itemIndex) in records"\n                        :key="item.id"\n                        class="sw-data-grid__row"\n                        :class="getRowClasses(item, itemIndex)"\n                >\n\n                    {% block sw_data_grid_body_cell_selection %}\n                        <td\n                                v-if="showSelection"\n                                class="sw-data-grid__cell sw-data-grid__cell--selection"\n                        >\n                            <slot\n                                    name="selection-content"\n                                    v-bind="{ item, isSelected, isRecordSelectable, selectItem, itemIdentifierProperty }"\n                            >\n                                {% block sw_data_grid_body_cell_selection_content %}\n                                    <div class="sw-data-grid__cell-content">\n                                        {% block sw_data_grid_select_item_checkbox %}\n                                            <sw-checkbox-field v-if="canDelete(item)"\n                                                    :disabled="!isRecordSelectable(item)"\n                                                    :value="isSelected(item[itemIdentifierProperty])"\n                                                    @change="selectItem($event, item)"\n                                            />\n                                        {% endblock %}\n                                    </div>\n                                {% endblock %}\n                            </slot>\n                        </td>\n                    {% endblock %}\n\n                    {% block sw_data_grid_body_columns %}\n                        <td\n                                v-for="(column, columnIndex) in currentColumns"\n                                v-show="column.visible"\n                                :key="`${item.id}-${columnIndex}`"\n                                class="sw-data-grid__cell"\n                                :class="getCellClasses(column)"\n                                @dblclick="onDbClickCell(item)"\n                        >\n\n                            {% block sw_data_grid_body_columns_content %}\n                                <div class="sw-data-grid__cell-content">\n\n                                    {% block sw_data_grid_preview_slot %}\n                                        <slot\n                                                v-if="previews && !isInlineEdit(item)"\n                                                :name="`preview-${column.property}`"\n                                                v-bind="{ item, column, compact }"\n                                        ></slot>\n                                    {% endblock %}\n\n                                    {% block sw_data_grid_columns_slot %}\n                                        <slot\n                                                :name="`column-${column.property}`"\n                                                v-bind="{ item, itemIndex, column, columnIndex, compact, isInlineEdit: (isInlineEdit(item) && column.hasOwnProperty(\'inlineEdit\')) }"\n                                        >\n                                            <template v-if="column.inlineEdit === \'boolean\'">\n                                                {% block sw_data_grid_columns_boolean %}\n                                                    <sw-data-grid-column-boolean\n                                                            v-model="item[column.property]"\n                                                            :is-inline-edit="isInlineEdit(item) && column.hasOwnProperty(\'inlineEdit\')"\n                                                    />\n                                                {% endblock %}\n                                            </template>\n                                            <template v-else>\n                                                {% block sw_data_grid_columns_inline_edit %}\n                                                    <template v-if="isInlineEdit(item) && column.hasOwnProperty(\'inlineEdit\')">\n                                                        {% block sw_data_grid_columns_render_inline_edit %}\n                                                            <sw-data-grid-inline-edit\n                                                                    :column="column"\n                                                                    :compact="compact"\n                                                                    :value="item[column.property]"\n                                                                    @input="item[column.property] = $event"\n                                                            />\n                                                        {% endblock %}\n                                                    </template>\n                                                {% endblock %}\n\n                                                {% block sw_data_grid_columns_value %}\n                                                    <template v-else>\n                                                        {% block sw_data_grid_columns_render_router_link %}\n                                                            <router-link\n                                                                    v-if="column.routerLink"\n                                                                    class="sw-data-grid__cell-value"\n                                                                    :to="{ name: column.routerLink, params: { id: item.id } }"\n                                                            >\n                                                                {{ renderColumn(item, column) }}\n                                                            </router-link>\n                                                        {% endblock %}\n                                                        {% block sw_data_grid_columns_render_value %}\n                                                            <span\n                                                                    v-else\n                                                                    class="sw-data-grid__cell-value"\n                                                            >\n                                            {{ renderColumn(item, column) }}\n                                        </span>\n                                                        {% endblock %}\n                                                    </template>\n                                                {% endblock %}\n                                            </template>\n                                        </slot>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </td>\n                    {% endblock %}\n\n                    {% block sw_data_grid_body_cell_spacer %}\n                        <td\n                                v-if="hasResizeColumns"\n                                aria-hidden="true"\n                                class="sw-data-grid__cell sw-data-grid__cell-spacer"\n                                @dblclick="onDbClickCell(item)"\n                        >\n                            <div class="sw-data-grid__cell-content"></div>\n                        </td>\n                    {% endblock %}\n\n                    {% block sw_data_grid_body_cell_actions %}\n                        <td\n                                v-if="showActions"\n                                class="sw-data-grid__cell sw-data-grid__cell--actions"\n                        >\n                            {% block sw_data_grid_body_cell_actions_content %}\n                                <div class="sw-data-grid__cell-content">\n\n                                    {% block sw_data_grid_inline_edit_actions %}\n                                        <template v-if="isInlineEditActive && currentInlineEditId === item[itemIdentifierProperty]">\n\n                                            {% block sw_data_grid_inline_edit_actions_cancel %}\n                                                <sw-button\n                                                        class="sw-data-grid__inline-edit-cancel"\n                                                        size="x-small"\n                                                        :title="$tc(\'global.default.cancel\')"\n                                                        :aria-label="$tc(\'global.default.cancel\')"\n                                                        square\n                                                        @click="onClickCancelInlineEdit(item)"\n                                                >\n                                                    {% block sw_data_grid_inline_edit_actions_cancel_icon %}\n                                                        <sw-icon\n                                                                name="small-default-x-line-small"\n                                                                size="14px"\n                                                        />\n                                                    {% endblock %}\n                                                </sw-button>\n                                            {% endblock %}\n\n                                            {% block sw_data_grid_inline_edit_actions_save %}\n                                                <sw-button\n                                                        class="sw-data-grid__inline-edit-save"\n                                                        variant="primary"\n                                                        size="x-small"\n                                                        :title="$tc(\'global.default.save\')"\n                                                        :aria-label="$tc(\'global.default.save\')"\n                                                        square\n                                                        @click="onClickSaveInlineEdit(item)"\n                                                >\n                                                    {% block sw_data_grid_inline_edit_actions_save_icon %}\n                                                        <sw-icon\n                                                                name="small-default-checkmark-line-small"\n                                                                size="14px"\n                                                        />\n                                                    {% endblock %}\n                                                </sw-button>\n                                            {% endblock %}\n                                        </template>\n                                    {% endblock %}\n\n                                    {% block sw_data_grid_body_cell_actions_menu %}\n                                        <sw-context-button\n                                                v-else\n                                                class="sw-data-grid__actions-menu"\n                                        >\n                                            <slot\n                                                    name="actions"\n                                                    :item="item"\n                                                    :itemIndex="itemIndex"\n                                            >\n                                                {% block sw_data_grid_slot_actions %}{% endblock %}\n                                            </slot>\n                                        </sw-context-button>\n                                    {% endblock %}\n\n                                    {% block sw_data_grid_body_cell_action_modals %}\n                                        <slot\n                                                name="action-modals"\n                                                :item="item"\n                                        >\n                                            {% block sw_data_grid_slot_action_modals %}{% endblock %}\n                                        </slot>\n                                    {% endblock %}\n                                </div>\n                            {% endblock %}\n                        </td>\n                    {% endblock %}\n                </tr>\n            {% endblock %}\n            </tbody>\n        {% endblock %}\n\n        {% block sw_data_grid_skeleton %}\n            <sw-data-grid-skeleton\n                    v-else\n                    :show-selection="showSelection"\n                    :show-actions="showActions"\n                    :current-columns="currentColumns"\n                    :has-resize-columns="hasResizeColumns"\n                    :item-amount="skeletonItemAmount"\n                    class="sw-data-grid__body"\n            />\n        {% endblock %}\n    </table>\n{% endblock %}',props:{items:{type:Array,required:!0},itemIdentifierProperty:{type:String,required:!1,default:"id"},preSelection:{type:Object,required:!1,default:null},isGroupedView:{type:Boolean,required:!1,default:!1},jobTypes:{type:Array,required:!1,default:function(){return[]}}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")}},data:function(){return{records:this.items,selection:Object.assign({},this.preSelection||{}),successItems:!1,pendingItems:!1,errorItems:!1,reloadInterval:null,page:1,limit:25}},methods:{canDelete:function(e){return-1!==["error","succeed"].indexOf(e.status)},selectAll:function(e){var t=this;this.$delete(this.selection),this.records.forEach((function(n){t.isSelected(n[t.itemIdentifierProperty])!==e&&t.selectItem(e,n)})),this.$emit("select-all-items",this.selection)},selectItem:function(e,t){if(this.canDelete(t)){var n=this.selection;e?this.$set(this.selection,t[this.itemIdentifierProperty],t):!e&&n[t[this.itemIdentifierProperty]]&&this.$delete(this.selection,t[this.itemIdentifierProperty]),this.$emit("select-item",this.selection,t,e)}}}});Shopware.Component.register("od-job-status-badge",{template:'<sw-color-badge rounded\n                :variant="variant"\n                :class="additionalClass"\n                style="margin-right: 10px; margin-top: 3px;">\n</sw-color-badge>\n\n',props:{status:{type:String,required:!0}},computed:{additionalClass:function(){return"running"===this.status?"--pulse":""},variant:function(){switch(this.status){case"error":return"error";case"succeed":case"running":return"success";default:return""}}}});function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,a=void 0,a=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===s(a)?a:String(a)),o)}var i,a}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"sortMessages",value:function(e){return e.forEach((function(e){e.messages=e.messages.sort((function(e,t){return e.createdAt>t.createdAt?1:e.createdAt<t.createdAt?-1:0}))})),e}}],(n=null)&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();n("vDoJ");function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){r=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,s){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),l=new S(s||[]);return o(a,"_invoke",{value:k(e,n,l)}),a}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var m={};function g(){}function p(){}function f(){}var h={};d(h,i,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(D([])));w&&w!==t&&n.call(w,i)&&(h=w);var v=f.prototype=g.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function s(o,i,a,r){var c=b(e[o],e,i);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==l(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){s("next",e,a,r)}),(function(e){s("throw",e,a,r)})):t.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return s("throw",e,a,r)}))}r(c.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){s(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function k(e,t,n){var o="suspendedStart";return function(s,i){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===s)throw i;return J()}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var l=x(a,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var r=b(e,t,n);if("normal"===r.type){if(o=n.done?"completed":"suspendedYield",r.arg===m)continue;return{value:r.arg,done:n.done}}"throw"===r.type&&(o="completed",n.method="throw",n.arg=r.arg)}}}function x(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var s=b(o,e.iterator,t.arg);if("throw"===s.type)return t.method="throw",t.arg=s.arg,t.delegate=null,m;var i=s.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function D(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return s.next=s}}return{next:J}}function J(){return{value:void 0,done:!0}}return p.prototype=f,o(v,"constructor",{value:f,configurable:!0}),o(f,"constructor",{value:p,configurable:!0}),p.displayName=d(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,d(e,c,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(j.prototype),d(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,o,s,i){void 0===i&&(i=Promise);var a=new j(u(t,n,o,s),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),d(v,c,"Generator"),d(v,i,(function(){return this})),d(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=D,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),r=n.call(i,"finallyLoc");if(l&&r){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!r)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o];if(s.tryLoc<=this.prev&&n.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var s=o.arg;I(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function c(e,t,n,o,s,i,a){try{var l=e[i](a),r=l.value}catch(e){return void n(e)}l.done?t(r):Promise.resolve(r).then(o,s)}var d=Shopware.Component,u=Shopware.Data.Criteria;d.register("od-job-listing-index",{template:'{% block od_entity_listing_base %}\n  <div class="od-entity-listing-wrapper">\n    <div class="od-job-listing-actions-bar">\n      <div class="action-item">\n        {% block od_scheduler_job_view_mode %}\n          <sw-select-field v-model="jobDisplayType" :label="$tc(\'job-listing.page.listing.index.display-mode\')">\n            <option v-for="option in jobDisplayMode" :value="option.value">{{ option.name }}</option>\n          </sw-select-field>\n\n          <sw-select-field v-if="jobDisplayType !== \'list\'" v-model="sortType" :label="$tc(\'job-listing.page.listing.index.group-by\')">\n              <option value="status">{{ $tc(\'job-listing.page.listing.index.status\') }}</option>\n              <option value="type">{{ $tc(\'job-listing.page.listing.index.job-type\') }}</option>\n          </sw-select-field>\n\n          <sw-datepicker\n            :label="$tc(\'job-listing.page.listing.index.date-from\')"\n            v-if="jobDisplayType == \'grouped\'"\n            v-model="groupCreationDate.fromDate"\n          />\n\n          <sw-datepicker\n            :label="$tc(\'job-listing.page.listing.index.date-to\')"\n            v-if="jobDisplayType == \'grouped\'"\n            v-model="groupCreationDate.toDate"\n          />\n\n        {% endblock %}\n      </div>\n      <div class="cation-item">\n        {% block od_scheduler_job_auto_load_switcher %}\n          <sw-switch-field class="job-listing-auto-loading-switch" v-model="autoLoadIsActive"\n                           :label="$tc(\'job-listing.page.listing.index.auto-load\')"></sw-switch-field>\n        {% endblock %}\n      </div>\n    </div>\n      \n    <sw-container v-if="!jobItems" columns="1fr 1fr">\n        <sw-loader size="50px">\n        </sw-loader>\n    </sw-container>\n\n    {% block od_job_charts %}\n      <od-scheduler-charts ref="jobCharts"\n                           v-if="jobDisplayType === \'chart\'"\n                           :jobTypes="jobTypes"\n                           :sortType="sortType"></od-scheduler-charts>\n    {% endblock %}\n\n    {% block od_job_grouped_component %}\n\n      <od-grouped-view v-if="jobDisplayType === \'grouped\'"\n                       ref="jobGroups"\n                       :groupCreationDate="groupCreationDate"\n                       :jobTypes="jobTypes"\n                       :sortType="sortType">\n      </od-grouped-view>\n    {% endblock %}\n\n    {% block od_job_list_grid %}\n      <od-entity-listing\n              v-if="jobItems && jobDisplayType === \'list\'"\n              :items="jobItems"\n              :repository="jobRepository"\n              :sort-by="currentSortBy"\n              :sort-direction="sortDirection"\n              :is-loading="isLoading"\n              :showSelection="true"\n              :allowColumnEdit="false"\n              :allowDelete="true"\n              :criteriaLimit="25"\n              :limit="25"\n              :allowEdit="false"\n              :jobTypes="jobTypes"\n              :isGroupedView="isGroupedView"\n              @page-change="pageChange"\n              :columns="columns">\n            {% block sw_data_grid_slot_pagination %}\n                <sw-pagination\n                    v-bind="{ page, limit, total }"\n                    :total-visible="6"\n                    @page-change="paginate"\n                />\n            {% endblock %}\n        <template #column-status="{ item }">\n          {% block od_job_list_grid_job_status_link %}\n            <template>\n              <od-job-status-badge :status="item.status"></od-job-status-badge>\n              {{ $tc(\'job-listing.page.listing.grid.job-status.\' + item.status) }}\n            </template>\n          {% endblock %}\n        </template>\n        <template #column-name="{ item }">\n          {% block od_job_list_grid_job_name_link %}\n            {{ item.name }}\n          {% endblock %}\n        </template>\n        <template #column-startedAt="{ item }">\n          {% block od_job_list_grid_job_started_date %}\n            {{ item.startedAt|date() }}\n          {% endblock %}\n        </template>\n        <template #column-finishedAt="{ item }">\n          {% block od_job_list_grid_job_finished_date %}\n            {{ item.finishedAt|date() }}\n          {% endblock %}\n        </template>\n        <template #column-createdAt="{ item }">\n          {% block od_job_list_grid_job_created_date %}\n            {{ item.createdAt|date() }}\n          {% endblock %}\n        </template>\n        <template class="sub-jobs-column" #column-subJobs="{ item }">\n          {% block od_job_list_grid_job_sub_jobs %}\n            <div :class="item.subJobs.length > 0 ? \'has-subjobs\' : \'\'"\n                 class="sub-jobs-counters-container jobs-info-counter">\n              <div class="count-container" v-if="item.subJobs">\n                            <span class="info-container">\n                                <span class="count" v-html="getChildrenCount(item, \'succeed\')"></span>\n                            </span>\n                <od-job-status-badge status="succeed"></od-job-status-badge>\n              </div>\n\n              <div class="count-container" v-if="item.subJobs">\n                            <span class="warning-container">\n                                <span class="count" v-html="getChildrenCount(item, \'pending\')"></span>\n                            </span>\n                <od-job-status-badge status="pending"></od-job-status-badge>\n              </div>\n\n              <div class="count-container" v-if="item.subJobs">\n                            <span class="error-counter">\n                                <span class="count" v-html="getChildrenCount(item, \'error\')"></span>\n                            </span>\n                <od-job-status-badge status="error"></od-job-status-badge>\n              </div>\n            </div>\n          {% endblock %}\n          <sw-button v-if="item.subJobs.length > 0"\n                     class="sub-job-show-modal"\n                     size="small"\n                     variant="primary"\n                     :disabled="item.subJobs.length <= 0"\n                     @click="showSubJobs(item.id)">\n            <sw-icon name="regular-cog" color="#fff" :small="true" :decorative="true"></sw-icon>\n              {{ $tc(\'job-listing.page.listing.index.show-sub-jobs\') }}\n          </sw-button>\n        </template>\n        <template #column-messages="{ item }">\n          {% block od_job_list_grid_job_messages %}\n            <div :class="item.messages.length > 0 ? \'has-messages\' : \'\'"\n                 class="message-counters-container jobs-info-counter">\n              <div class="count-container" v-if="item.messages">\n                            <span class="info-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'info\')"></span>\n                            </span>\n                <sw-icon :small="true" name="regular-info-circle" color="#3498db"></sw-icon>\n              </div>\n\n              <div class="count-container" v-if="item.messages">\n                            <span class="warning-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'warning\')"></span>\n                            </span>\n                <sw-icon :small="true" name="regular-exclamation-triangle" color="#f39c12"></sw-icon>\n              </div>\n\n              <div class="count-container" v-if="item.messages">\n                            <span class="error-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'error\')"></span>\n                            </span>\n                <sw-icon :small="true" name="regular-times-hexagon" color="#c0392b"></sw-icon>\n              </div>\n            </div>\n            <sw-button v-if="item.messages.length > 0"\n                       class="job-messages-show-modal"\n                       size="small"\n                       variant="primary"\n                       :disabled="item.messages.length <= 0"\n                       @click="showJobMessages(item)">\n              <sw-icon name="regular-envelope" color="#fff" :small="true" :decorative="true"></sw-icon>\n                {{ $tc(\'job-listing.page.listing.index.show-job-messages\') }}\n            </sw-button>\n          {% endblock %}\n        </template>\n        <template #actions="{ item }">\n          <sw-context-menu-item :disabled="item.status !== \'error\'"\n                                @click="rescheduleJob(item.id)">\n            {{ $tc(\'job-listing.actions.reschedule-job.button.label\') }}\n          </sw-context-menu-item>\n          <sw-context-menu-item class="sw-context-menu-item--danger"\n                                :disabled="!canDelete(item)"\n                                @click="onDeleteJob(item.id)">\n            {{ $tc(\'job-listing.actions.delete-job.button.label\') }}\n          </sw-context-menu-item>\n        </template>\n      </od-entity-listing>\n    {% endblock %}\n\n    {% block od_entity_listing_job_subs_modal %}\n      <sw-modal class="od-job-sub-jobs-modal" v-if="showJobSubsModal" :title="$tc(\'job-listing.page.listing.grid.column.child-jobs\')"\n                @modal-close="showJobSubsModal = false">\n        <od-job-sub-jobs v-if="currentJobID" :jobId="currentJobID">\n\n        </od-job-sub-jobs>\n        <template #modal-footer>\n          <sw-button variant="primary"\n                     @click="showJobSubsModal = false">\n              {{ $tc(\'job-listing.page.listing.index.close\') }}\n          </sw-button>\n        </template>\n      </sw-modal>\n    {% endblock %}\n\n    {% block od_entity_listing_job_messages_modal %}\n      <sw-modal class="od-job-messages-modal" v-if="showMessagesModal"\n                :title="$tc(\'job-listing.page.listing.grid.column.messages\')"\n                @modal-close="showMessagesModal = false">\n        {% block job_messages_listing %}\n          <div v-if="currentJobMessages" class="job_list_grid_job_messages-information" style="width:100%;">\n            <div class="messages-content" v-for="item in currentJobMessages">\n              <sw-alert class="od-alert"\n                        v-if="item.type == \'info-message\'"\n                        variant="info"\n                        appearance="default"\n                        :showIcon="true"\n                        :closable="false">\n                {{ item.message }}\n              </sw-alert>\n              <sw-alert class="od-alert"\n                        v-if="item.type == \'error-message\'"\n                        variant="error"\n                        appearance="default"\n                        :showIcon="true"\n                        :closable="false">\n                {{ item.message }}\n              </sw-alert>\n              <sw-alert class="od-alert"\n                        v-if="item.type == \'warning-message\'"\n                        variant="warning"\n                        appearance="default"\n                        :showIcon="true"\n                        :closable="false">\n                {{ item.message }}\n              </sw-alert>\n            </div>\n          </div>\n        {% endblock %}\n        <template #modal-footer>\n          <sw-button variant="primary"\n                     @click="showMessagesModal = false">\n              {{ $tc(\'job-listing.page.listing.index.close\') }}\n          </sw-button>\n        </template>\n      </sw-modal>\n    {% endblock %}\n  </div>\n{% endblock %}\n',inject:["OdRescheduleService","repositoryFactory","filterFactory","feature"],mixins:["notification"],props:{isGroupedView:{type:Boolean,required:!1,default:!1},jobTypes:{type:Array,required:!1,default:function(){return[]}},filterCriteria:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{jobItems:null,currentSortBy:"startedAt",sortDirection:"DESC",isLoading:!1,reloadInterval:null,showJobInfoModal:!1,showJobSubsModal:!1,currentJobID:null,showMessagesModal:!1,currentJobMessages:null,total:0,groupCreationDate:{},sortType:"status",jobDisplayType:null,autoLoad:!1,autoLoadIsActive:!1,autoReloadInterval:6e4,page:1,limit:25}},watch:{autoLoadIsActive:function(){this._handleAutoReload(this.autoLoadIsActive)},jobDisplayType:function(){this.stopAutoLoading(),this.$emit("job-display-type-changed",this.jobDisplayType)},filterCriteria:function(){this.filterCriteriaChanged(this.filterCriteria)}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")},messageRepository:function(){return this.repositoryFactory.create("od_scheduler_job_message")},columns:function(){return[{property:"name",label:this.$tc("job-listing.page.listing.grid.column.name"),allowResize:!0,width:"250px"},{property:"status",label:this.$tc("job-listing.page.listing.grid.column.status"),allowResize:!0,width:"150px"},{property:"startedAt",label:this.$tc("job-listing.page.listing.grid.column.started-at"),allowResize:!0,width:"170px",sortable:!0},{property:"finishedAt",label:this.$tc("job-listing.page.listing.grid.column.finished-at"),allowResize:!0,width:"170px"},{property:"createdAt",label:this.$tc("job-listing.page.listing.grid.column.created-at"),allowResize:!0,width:"170px"},{property:"subJobs",label:this.$tc("job-listing.page.listing.grid.column.child-jobs"),allowResize:!0,width:"250px",visible:!0,sortable:!1},{property:"messages",label:this.$tc("job-listing.page.listing.grid.column.messages"),allowResize:!0,width:"250px",visible:!0,sortable:!1}]},jobDisplayMode:function(){return[{name:this.$tc("job-listing.page.listing.index.list"),value:"list"},{name:this.$tc("job-listing.page.listing.index.grouped"),value:"grouped"},{name:this.$tc("job-listing.page.listing.index.chart"),value:"chart"}]}},created:function(){this.createdComponent()},methods:{paginate:function(e){var t=e.page,n=e.limit;this.page=t,this.limit=n,this.getList()},createdComponent:function(){this.jobDisplayType="list",this.getList()},filterCriteriaChanged:function(e){this.getList(e)},_handleAutoReload:function(e){var t=this;e&&this.autoReloadInterval>0?"list"===this.jobDisplayType?this.reloadInterval=setInterval((function(){t.updateList()}),this.autoReloadInterval):"grouped"===this.jobDisplayType?this.reloadInterval=setInterval((function(){t.$refs.jobGroups.initGroupedView()}),this.autoReloadInterval):"chart"===this.jobDisplayType&&(this.reloadInterval=setInterval((function(){t.$refs.jobCharts.initChartData()}),this.autoReloadInterval)):clearInterval(this.reloadInterval)},pageChange:function(){this.autoLoadIsActive=!1,clearInterval(this.reloadInterval)},getLinkParams:function(e){return{id:e.id,backPath:this.$route.name}},updateList:function(e){var t,n=this;return(t=r().mark((function t(){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(o=new u(n.page,n.limit)).addFilter(u.equals("parentId",null)),o.addSorting(u.sort("createdAt","DESC",!1)),o.addAssociation("messages"),o.addAssociation("subJobs"),e&&e.forEach((function(e){o.addFilter(e)})),n.jobTypes!==[]&&o.addFilter(u.equalsAny("type",n.jobTypes)),t.abrupt("return",n.jobRepository.search(o,Shopware.Context.api).then((function(e){n.jobItems=a.sortMessages(e)})));case 8:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,s){var i=t.apply(e,n);function a(e){c(i,o,s,a,l,"next",e)}function l(e){c(i,o,s,a,l,"throw",e)}a(void 0)}))})()},getMessagesCount:function(e,t){return e.messages.filter((function(e){return e.type===t+"-message"})).length},getChildrenCount:function(e,t){return e.subJobs.filter((function(e){return e.status===t})).length},getList:function(e){var t=this;this.isLoading=!0,this.updateList(e).then((function(){t.isLoading=!1}))},onRefresh:function(e){return"grouped"===this.jobDisplayType?this.$refs.jobGroups.onRefresh():"chart"===this.jobDisplayType?this.$refs.jobCharts.onRefresh():this.getList(e)},canDelete:function(e){return-1!==["error","succeed"].indexOf(e.status)},onDeleteJob:function(e){var t=this;this.jobRepository.delete(e,Shopware.Context.api).then((function(){t.updateList()}))},rescheduleJob:function(e){var t=this;this.OdRescheduleService.rescheduleJob(e).then((function(){t.createNotificationSuccess({message:"Job has been rescheduled successfully."}),t.updateList()})).catch((function(){t.createNotificationError({message:"Unable reschedule job."})}))},showSubJobs:function(e){this.currentJobID=e,this.showJobSubsModal=!0},showJobMessages:function(e){this.currentJobMessages=e.messages,this.showMessagesModal=!0},stopAutoLoading:function(){this.autoLoadIsActive=!1,clearInterval(this.reloadInterval)}},beforeDestroy:function(){clearInterval(this.reloadInterval)}});var b=n("bspg"),m=n("IwiJ");function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(s=o.key,i=void 0,i=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"),"symbol"===g(i)?i:String(i)),o)}var s,i}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var s=v(this).constructor;n=Reflect.construct(o,arguments,s)}else n=o.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Shopware.Module.register("od-job-listing",{type:"plugin",title:"job-listing.general.title",description:"job-listing.general.description",color:"#F88962",icon:"default-avatar-multiple",snippets:{"en-GB":b,"de-DE":m},routes:{detail:{path:"detail/:id/back/:backPath",props:{default:function(e){return{jobId:e.params.id}}}}}});var y=Shopware.Classes.ApiService,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,n,o,s=_(i);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"od-job";return p(this,i),s.call(this,e,t,n)}return t=i,(n=[{key:"rescheduleJob",value:function(e){var t=this.getBasicHeaders();return this.httpClient.post("_action/".concat(this.getApiBasePath(),"/reschedule"),{params:{jobId:e},headers:t}).then((function(e){return y.handleResponse(e)}))}}])&&f(t.prototype,n),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),i}(y),k=Shopware.Application,x=k.getContainer("init");k.addServiceProvider("OdRescheduleService",(function(e){return new j(x.httpClient,e.loginService)}));var C=Shopware.Component,I=Shopware.Data.Criteria;C.register("od-job-info",{template:'{% block od_job_info_base %}\n    <sw-card-section v-if="jobItem">\n        {% block job_info_overview_columns %}\n            <sw-container\n                    columns="repeat(auto-fit, minmax(250px, 1fr))"\n                    gap="30px 30px">\n                {% block job_info_overview_left_column %}\n                    <sw-description-list\n                            columns="1fr"\n                            grid="1fr">\n                        {% block job_info_overview_name %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.name\') }}</dt>\n                            <dd>\n                                <sw-order-inline-field v-if="jobItem.name"\n                                                       :display-value="jobItem.name"\n                                                       :value="jobItem.name"\n                                                       :editable="false"\n                                />\n                            </dd>\n                        {% endblock %}\n                        {% block job_info_overview_status %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.status\') }}</dt>\n                            <dd>\n                                <template>\n                                    <od-job-status-badge :status="jobItem.status">\n                                    </od-job-status-badge>\n                                    {{ $tc(\'job-listing.page.listing.grid.job-status.\' + jobItem.status) }}\n                                </template>\n                            </dd>\n                        {% endblock %}\n                        {% block job_info_overview_startedAt %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.started-at\') }}</dt>\n                            <dd>\n                                <sw-order-inline-field v-if="jobItem.startedAt"\n                                                       :display-value="jobItem.startedAt|date()"\n                                                       :value="jobItem.startedAt|date()"\n                                                       :editable="false"\n                                />\n                            </dd>\n                        {% endblock %}\n                    </sw-description-list>\n                {% endblock %}\n                {% block od_job_info_overview_right_column %}\n                    <sw-description-list\n                            columns="1fr"\n                            grid="1fr" class="od-job-user-card__summary-vertical">\n                        {% block job_detail_base_overview_type %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.type\') }}</dt>\n                            <dd>\n                                <sw-order-inline-field v-if="jobItem.type"\n                                                       :display-value="jobItem.type"\n                                                       :value="jobItem.type"\n                                                       :editable="false"\n                                />\n                            </dd>\n                        {% endblock %}\n                        {% block job_info_overview_createdAt %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.created-at\') }}</dt>\n                            <dd>\n                                <sw-order-inline-field v-if="jobItem.createdAt"\n                                                       :display-value="jobItem.createdAt|date()"\n                                                       :value="jobItem.startedAt|date()"\n                                                       :editable="false"/>\n                            </dd>\n                        {% endblock %}\n                        {% block job_info_overview_finishedAt %}\n                            <dt>{{ $tc(\'job-listing.page.listing.grid.column.finished-at\') }}</dt>\n                            <dd>\n                                <sw-order-inline-field v-if="jobItem.finishedAt"\n                                                       :display-value="jobItem.finishedAt|date()"\n                                                       :value="jobItem.finishedAt|date()"\n                                                       :editable="false"/>\n                            </dd>\n                        {% endblock %}\n                    </sw-description-list>\n                {% endblock %}\n            </sw-container>\n        {% endblock %}\n    </sw-card-section>\n{% endblock %}',inject:["OdRescheduleService","repositoryFactory"],mixins:["notification"],props:{jobId:{type:String,required:!1,default:null}},data:function(){return{jobItem:null}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")}},created:function(){this.initPageData()},methods:{initPageData:function(){var e=this;this.jobRepository.get(this.jobId,Shopware.Context.api,new I).then((function(t){e.jobItem=t}))}}});n("15N+");var S=Shopware.Component,D=Shopware.Data.Criteria;S.register("od-job-sub-jobs",{template:'{% block od_job_sub_jobs_base %}\n    <div class="sub-jobs-container">\n        <div class="sub-job-container" v-if="subJobs">\n            {% block job_children_listing %}\n                <od-entity-listing\n                        v-if="subJobs"\n                        :items="subJobs"\n                        :data-source="subJobs"\n                        :repository="jobRepository"\n                        :showSelection="false"\n                        :allowColumnEdit="false"\n                        :compactMode="false"\n                        :allowDelete="false"\n                        :allowEdit="false"\n                        :columns="jobChildrenColumns">\n                    <template #column-name="{ item }">\n                        {% block job_list_grid_job_name_link %}\n                            {{ item.name }}\n                        {% endblock %}\n                    </template>\n                    <template #column-status="{ item }">\n                        {% block job_list_grid_job_status_link %}\n                            <template>\n                                <od-job-status-badge :status="item.status"></od-job-status-badge>\n                                {{ $tc(\'job-listing.page.listing.grid.job-status.\' + item.status) }}\n                            </template>\n                        {% endblock %}\n                    </template>\n\n                    <template #column-startedAt="{ item }">\n                        {% block job_list_grid_job_started_at %}\n                            {{ item.startedAt|date() }}\n                        {% endblock %}\n                    </template>\n                    <template #column-finishedAt="{ item }">\n                        {% block job_list_grid_job_finished_at %}\n                            {{ item.finishedAt|date() }}\n                        {% endblock %}\n                    </template>\n                    <template #column-createdAt="{ item }">\n                        {% block job_list_grid_job_created_at %}\n                            {{ item.createdAt|date() }}\n                        {% endblock %}\n                    </template>\n                    <template #column-messages="{ item }">\n                        {% block sub_job_show_messages_button %}\n                            <div :class="item.messages.length > 0 ? \'has-messages\' : \'\'" class="message-counters-container jobs-info-counter">\n                                <div class="count-container" v-if="item.messages">\n                            <span class="info-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'info\')"></span>\n                            </span>\n                                    <sw-icon :small="true" name="regular-info-circle" color="#3498db"></sw-icon>\n                                </div>\n\n                                <div class="count-container" v-if="item.messages">\n                            <span class="warning-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'warning\')"></span>\n                            </span>\n                                    <sw-icon :small="true" name="regular-exclamation-triangle" color="#f39c12"></sw-icon>\n                                </div>\n\n                                <div class="count-container" v-if="item.messages">\n                            <span class="error-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'error\')"></span>\n                            </span>\n                                    <sw-icon :small="true" name="regular-times-hexagon" color="#c0392b"></sw-icon>\n                                </div>\n                            </div>\n                            <sw-button v-if="item.messages.length > 0"\n                                       class="job-messages-show-modal"\n                                       size="small"\n                                       variant="primary"\n                                       :disabled="item.messages.length <= 0"\n                                       @click="showMessageModal(item.messages)">\n                                <sw-icon name="regular-envelope" color="#fff" :small="true" :decorative="true"></sw-icon>\n                                {{ $tc(\'job-listing.actions.show-messages.button.label\') }}\n                            </sw-button>\n                        {% endblock %}\n                    </template>\n                    <template #actions="{ item }">\n                        <sw-context-menu-item :disabled="item.status !== \'error\'"\n                                              @click="rescheduleJob(item.id)">\n                            {{ $tc(\'job-listing.actions.reschedule-job.button.label\') }}\n                        </sw-context-menu-item>\n                        <sw-context-menu-item v-if="item.messages"\n                                              :disabled="item.messages.length <= 0"\n                                              @click="showMessageModal(item.messages)">\n                            {{ $tc(\'job-listing.actions.show-messages.button.label\') }}\n                        </sw-context-menu-item>\n                    </template>\n                </od-entity-listing>\n            {% endblock %}\n        </div>\n        <div v-else>\n            {{ $tc(\'job-listing.page.listing.index.loading\') }}\n        </div>\n        <sw-modal class="od-job-messages-modal" v-if="showMessagesModal" :title="$tc(\'job-listing.page.listing.grid.column.messages\')"\n                  @modal-close="showMessagesModal = false">\n            {% block job_messages_listing %}\n                <div v-if="currentJobMessages" class="job_list_grid_job_messages-information" style="width:100%;">\n                    <div class="messages-content" v-for="item in currentJobMessages">\n                        <sw-alert class="od-alert"\n                                v-if="item.type == \'info-message\'"\n                                variant="info"\n                                appearance="default"\n                                :showIcon="true"\n                                :closable="false">\n                            {{ item.message }}\n                        </sw-alert>\n                        <sw-alert class="od-alert"\n                                v-if="item.type == \'error-message\'"\n                                variant="error"\n                                appearance="default"\n                                :showIcon="true"\n                                :closable="false">\n                            {{ item.message }}\n                        </sw-alert>\n                        <sw-alert class="od-alert"\n                                v-if="item.type == \'warning-message\'"\n                                variant="warning"\n                                appearance="default"\n                                :showIcon="true"\n                                :closable="false">\n                            {{ item.message }}\n                        </sw-alert>\n                    </div>\n                </div>\n            {% endblock %}\n            <template #modal-footer>\n                <sw-button variant="primary"\n                           @click="showMessagesModal = false">\n                    {{ $tc(\'job-listing.page.listing.index.close\') }}\n                </sw-button>\n            </template>\n        </sw-modal>\n    </div>\n{% endblock %}\n',inject:["OdRescheduleService","repositoryFactory"],mixins:["notification"],props:{jobId:{type:String,required:!1,default:null}},data:function(){return{subJobs:null,showMessagesModal:!1,currentJobMessages:null}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")},jobChildrenColumns:function(){return[{property:"name",dataIndex:"name",label:this.$tc("job-listing.page.listing.grid.column.name"),allowResize:!1,inlineEdit:!0,width:"200px"},{property:"status",dataIndex:"status",label:this.$tc("job-listing.page.listing.grid.column.status"),allowResize:!1,inlineEdit:!0,width:"100px"},{property:"startedAt",dataIndex:"startedAt",label:this.$tc("job-listing.page.listing.grid.column.started-at"),allowResize:!1,inlineEdit:!0,width:"150px",sortable:!0},{property:"finishedAt",dataIndex:"finishedAt",label:this.$tc("job-listing.page.listing.grid.column.finished-at"),allowResize:!0,inlineEdit:!0,width:"150px"},{property:"createdAt",dataIndex:"createdAt",label:this.$tc("job-listing.page.listing.grid.column.created-at"),allowResize:!0,inlineEdit:!0,width:"150px"},{property:"messages",dataIndex:"messages",label:"Messages",allowResize:!0,inlineEdit:!1,width:"250px",sortable:!1}]}},created:function(){this.initModalData()},methods:{initModalData:function(){var e=this,t=new D;t.addFilter(D.equals("parentId",this.jobId)),t.addSorting(D.sort("createdAt","DESC",!1)),t.addAssociation("messages"),this.jobRepository.search(t,Shopware.Context.api).then((function(t){e.subJobs=a.sortMessages(t)}))},rescheduleJob:function(e){var t=this;this.OdRescheduleService.rescheduleJob(e).then((function(){t.createNotificationSuccess({message:"Job has been rescheduled successfully."}),t.initPageData()})).catch((function(){t.createNotificationError({message:"Unable reschedule job."})}))},showMessageModal:function(e){this.currentJobMessages=e,this.showMessagesModal=!0},getMessagesCount:function(e,t){return e.messages.filter((function(e){return e.type===t+"-message"})).length}}});n("HDTl");function J(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,s=function(){};return{s:s,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var A=Shopware.Component,$=Shopware.Data.Criteria;A.register("od-scheduler-charts",{template:'{% block od_job_charts_base %}\n<div class="od-scheduler-charts">\n    <div class="sw-dashboard-statistics__card-headline-select">\n        <sw-select-field\n                class="charts-date-range"\n                v-model="statisticDateRanges.value"\n                size="small">\n            <option\n                    v-for="(value, option) in statisticDateRanges.options"\n                    :key="option"\n                    :value="option">\n                {{ $tc(`sw-dashboard.monthStats.dateRanges.${option}`) }}\n            </option>\n        </sw-select-field>\n    </div>\n    <sw-chart\n            type="area"\n            :series="chartSeries"\n            :options="chartOptionsCount"\n            :fill-empty-values="getTimeUnitInterval"\n            :fillEmptyDates="false"\n            :sort="true"\n    />\n</div>\n{% endblock %}',inject:["repositoryFactory"],mixins:["notification"],props:{jobTypes:{type:Array,required:!1,default:function(){return[]}},sortType:{type:String,required:!0,default:function(){return"status"}}},data:function(){return{items:null,statisticDateRanges:{value:"30Days",options:{"30Days":30,"14Days":14,"7Days":7,"24Hours":24,yesterday:1}},chartSeries:[],colors:{0:"#FF8C00",1:"#0044ee",2:"#9400D3",3:"#FFD700",4:"#008000",5:"#40E0D0",6:"#00BFFF",7:"#209d90",8:"#C71585",9:"#000000",10:"#F4A460"}}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")},getTimeUnitInterval:function(){var e=this.statisticDateRanges.value;return"yesterday"===e||"24Hours"===e?"hour":"day"},dateAgo:function(){var e,t=new Date,n=this.statisticDateRanges.value,o=null!==(e=this.statisticDateRanges.options[n])&&void 0!==e?e:0;return"24Hours"===n?(t.setHours(t.getHours()-o),t):(t.setDate(t.getDate()-o),t.setHours(0,0,0,0),t)},chartOptionsCount:function(){return{title:{text:"Jobs",style:{fontSize:"16px",fontWeight:"600"}},xaxis:{type:"datetime",min:this.dateAgo.getTime(),labels:{datetimeUTC:!1}},yaxis:{min:0,tickAmount:3,labels:{formatter:function(e){return parseInt(e,10)}}}}}},watch:{sortType:function(){this.initChartData()}},created:function(){this.initChartData()},methods:{initChartData:function(){var e=this,t=new $;return t.addFilter($.equals("parentId",null)),t.setLimit(999999),this.jobTypes!==[]&&t.addFilter($.equalsAny("type",this.jobTypes)),this.jobRepository.search(t,Shopware.Context.api).then((function(t){e.items=t,"status"===e.sortType?e.createStatusChartSeries(t):"type"===e.sortType&&e.createTypeChartSeries(t)}))},createTypeChartSeries:function(e){var t=this;this.chartSeries=this.typeCharts(e);var n,o=J(e);try{var s=function(){var e=n.value,o=t.parseDate(e.createdAt);t.chartSeries.forEach((function(t){if(t.name===e.name){var n=t.data.findIndex((function(e){return e.x===o}));-1!==n?t.data[n].y=t.data[n].y+1:t.data.push({x:o,y:1})}}))};for(o.s();!(n=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}},createStatusChartSeries:function(e){var t=this;this.chartSeries=this.statusCharts();var n,o=J(e);try{var s=function(){var e=n.value,o=t.parseDate(e.createdAt);if("succeed"===e.status){var s=t.chartSeries[0].data,i=s.findIndex((function(e){return e.x===o}));-1!==i?s[i].y=s[i].y+1:s.push({x:o,y:1})}else if("pending"===e.status){var a=t.chartSeries[2].data,l=a.findIndex((function(e){return e.x===o}));-1!==l?a[l].y=a[l].y+1:a.push({x:o,y:1})}else if("error"===e.status){var r=t.chartSeries[1].data,c=r.findIndex((function(e){return e.x===o}));-1!==c?r[c].y=r[c].y+1:r.push({x:o,y:1})}};for(o.s();!(n=o.n()).done;)s()}catch(e){o.e(e)}finally{o.f()}},getRandomColor:function(){return"#"+(1048575*Math.random()*1e6).toString(16).slice(0,6)},typeCharts:function(e){var t=this,n=[];return e.forEach((function(e,o){n.find((function(t){return t.name===e.name}))||n.push({name:e.name,data:[],color:t.colors[o]?t.colors[o]:t.getRandomColor(o)})})),n},statusCharts:function(){return[{name:this.$tc("job-listing.page.listing.grid.job-status.succeed"),data:[],color:"#37d046"},{name:this.$tc("job-listing.page.listing.grid.job-status.error"),data:[],color:"#de294c"},{name:this.$tc("job-listing.page.listing.grid.job-status.pending"),data:[],color:"#d1d9e0"}]},parseDate:function(e){return e=e.substring(0,e.lastIndexOf("T")+1),new Date(e.replace(/-/g,"/").replace("T"," ")).valueOf()},onRefresh:function(){this.initChartData()}},beforeDestroy:function(){clearInterval(this.reloadInterval)}});n("DLC3");var T=Shopware.Component,E=Shopware.Data.Criteria;T.register("od-grouped-view",{template:'{% block od_grouped_view_base %}\n    <div class="od-grouped-view-container" v-if="groupedItems" :isLoading="isLoading">\n        <div class="od-grouped-view-wrapper"\n             v-for="group in groupedItems">\n            <sw-collapse :class="`is-${group.type}`">\n                <template #header>{{ group.title }} <span class="amount">({{ group.items.total }})</span></template>\n                <template #content>\n                    <od-entity-listing\n                            :items="group.items"\n                            :repository="jobRepository"\n                            :is-loading="isLoading"\n                            :showSelection="true"\n                            :allowColumnEdit="false"\n                            :allowDelete="true"\n                            :allowEdit="false"\n                            :page="1"\n                            :jobTypes="jobTypes"\n                            :columns="columns">\n                        <template #column-status="{ item }">\n                            {% block od_job_list_grid_job_status_link %}\n                                <template>\n                                    <od-job-status-badge :status="item.status"></od-job-status-badge>\n                                    {{ $tc(\'job-listing.page.listing.grid.job-status.\' + item.status) }}\n                                </template>\n                            {% endblock %}\n                        </template>\n                        <template #column-name="{ item }">\n                            {% block od_job_list_grid_job_name_link %}\n                                {{ item.name }}\n                            {% endblock %}\n                        </template>\n                        <template #column-startedAt="{ item }">\n                            {% block od_job_list_grid_job_started_date %}\n                                {{ item.startedAt|date() }}\n                            {% endblock %}\n                        </template>\n                        <template #column-finishedAt="{ item }">\n                            {% block od_job_list_grid_job_finished_date %}\n                                {{ item.finishedAt|date() }}\n                            {% endblock %}\n                        </template>\n                        <template #column-createdAt="{ item }">\n                            {% block od_job_list_grid_job_created_date %}\n                                {{ item.createdAt|date() }}\n                            {% endblock %}\n                        </template>\n                        <template class="sub-jobs-column" #column-subJobs="{ item }">\n                            {% block od_job_list_grid_job_sub_jobs %}\n                                <div :class="item.subJobs.length > 0 ? \'has-subjobs\' : \'\'"\n                                     class="sub-jobs-counters-container jobs-info-counter">\n                                    <div class="count-container" v-if="item.subJobs">\n                            <span class="info-container">\n                                <span class="count" v-html="getChildrenCount(item, \'succeed\')"></span>\n                            </span>\n                                        <od-job-status-badge status="succeed"></od-job-status-badge>\n                                    </div>\n\n                                    <div class="count-container" v-if="item.subJobs">\n                            <span class="warning-container">\n                                <span class="count" v-html="getChildrenCount(item, \'pending\')"></span>\n                            </span>\n                                        <od-job-status-badge status="pending"></od-job-status-badge>\n                                    </div>\n\n                                    <div class="count-container" v-if="item.subJobs">\n                            <span class="error-counter">\n                                <span class="count" v-html="getChildrenCount(item, \'error\')"></span>\n                            </span>\n                                        <od-job-status-badge status="error"></od-job-status-badge>\n                                    </div>\n                                </div>\n                            {% endblock %}\n                            <sw-button v-if="item.subJobs.length > 0" class="sub-job-show-modal" size="small" variant="primary"\n                                       :disabled="item.subJobs.length <= 0" @click="showSubJobs(item.id)">\n                                <sw-icon name="regular-cog" color="#fff" :small="true" :decorative="true"></sw-icon>\n                                {{ $tc(\'job-listing.page.listing.grid.column.show-sub-jobs\') }}\n                            </sw-button>\n                        </template>\n                        <template #column-messages="{ item }">\n                            {% block od_job_list_grid_job_messages %}\n                                <div :class="item.messages.length > 0 ? \'has-messages\' : \'\'"\n                                     class="message-counters-container jobs-info-counter">\n                                    <div class="count-container" v-if="item.messages">\n                            <span class="info-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'info\')"></span>\n                            </span>\n                                        <sw-icon :small="true" name="regular-info-circle" color="#3498db"></sw-icon>\n                                    </div>\n\n                                    <div class="count-container" v-if="item.messages">\n                            <span class="warning-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'warning\')"></span>\n                            </span>\n                                        <sw-icon :small="true" name="regular-exclamation-triangle" color="#f39c12"></sw-icon>\n                                    </div>\n\n                                    <div class="count-container" v-if="item.messages">\n                            <span class="error-counter">\n                                <span class="count" v-html="getMessagesCount(item, \'error\')"></span>\n                            </span>\n                                        <sw-icon :small="true" name="regular-times-hexagon" color="#c0392b"></sw-icon>\n                                    </div>\n                                </div>\n                                <sw-button v-if="item.messages.length > 0" class="job-messages-show-modal" size="small"\n                                           variant="primary" :disabled="item.messages.length <= 0"\n                                           @click="showJobMessages(item)">\n                                    <sw-icon name="regular-envelope" color="#fff" :small="true"\n                                             :decorative="true"></sw-icon>\n                                    Show job messages\n                                </sw-button>\n                            {% endblock %}\n                        </template>\n                        <template #actions="{ item }">\n                            <sw-context-menu-item :disabled="item.status !== \'error\'"\n                                                  @click="rescheduleJob(item.id)">\n                                {{ $tc(\'job-listing.actions.reschedule-job.button.label\') }}\n                            </sw-context-menu-item>\n                            <sw-context-menu-item class="sw-context-menu-item--danger"\n                                                  :disabled="!canDelete(item)"\n                                                  @click="onDeleteJob(item.id)">\n                                {{ $tc(\'job-listing.actions.delete-job.button.label\') }}\n                            </sw-context-menu-item>\n                        </template>\n                    </od-entity-listing>\n                </template>\n            </sw-collapse>\n        </div>\n        {% block od_entity_listing_job_info_modal %}\n            <sw-modal class="od-job-info-modal" v-if="showJobInfoModal" :title="$tc(\'job-listing.page.listing.grouped-view.job-info\')"\n                      @modal-close="showJobInfoModal = false">\n                <od-job-info v-if="currentJobID" :jobId="currentJobID">\n\n                </od-job-info>\n                <template #modal-footer>\n                    <sw-button variant="primary"\n                               @click="showJobInfoModal = false">\n                        {{ $tc(\'job-listing.page.listing.index.close\') }}\n                    </sw-button>\n                </template>\n            </sw-modal>\n        {% endblock %}\n\n        {% block od_entity_listing_job_subs_modal %}\n            <sw-modal class="od-job-sub-jobs-modal" v-if="showJobSubsModal" :title="$tc(\'job-listing.page.listing.grouped-view.sub-jobs\')"\n                      @modal-close="showJobSubsModal = false">\n                <od-job-sub-jobs v-if="currentJobID" :jobId="currentJobID">\n\n                </od-job-sub-jobs>\n                <template #modal-footer>\n                    <sw-button variant="primary"\n                               @click="showJobSubsModal = false">\n                        {{ $tc(\'job-listing.page.listing.index.close\') }}\n                    </sw-button>\n                </template>\n            </sw-modal>\n        {% endblock %}\n\n        {% block od_entity_listing_job_messages_modal %}\n            <sw-modal class="od-job-messages-modal" v-if="showMessagesModal" :title="$tc(\'job-listing.page.listing.grouped-view.job-messages\')"\n                      @modal-close="showMessagesModal = false">\n                {% block job_messages_listing %}\n                    <sw-data-grid\n                            v-if="currentJobMessages"\n                            :items="currentJobMessages"\n                            :data-source="currentJobMessages"\n                            :showSelection="false"\n                            :allowColumnEdit="false"\n                            :allowDelete="false"\n                            :allowEdit="false"\n                            :showActions="false"\n                            :showHeader="false"\n                            class="od-job-messages-grid"\n                            :columns="jobMessagesColumns">\n                        <template #column-message="{ item }">\n                            {% block job_list_grid_job_messages %}\n                                <div class="job_list_grid_job_messages-information" style="width:100%;">\n                                    <sw-alert\n                                            v-if="item.type == \'info-message\'"\n                                            variant="info"\n                                            appearance="default"\n                                            :showIcon="true"\n                                            :closable="false">\n                                        {{ item.message }}\n                                    </sw-alert>\n                                    <sw-alert\n                                            v-if="item.type == \'error-message\'"\n                                            variant="error"\n                                            appearance="default"\n                                            :showIcon="true"\n                                            :closable="false">\n                                        {{ item.message }}\n                                    </sw-alert>\n                                    <sw-alert\n                                            v-if="item.type == \'warning-message\'"\n                                            variant="warning"\n                                            appearance="default"\n                                            :showIcon="true"\n                                            :closable="false">\n                                        {{ item.message }}\n                                    </sw-alert>\n                                </div>\n                            {% endblock %}\n                        </template>\n                    </sw-data-grid>\n                {% endblock %}\n                <template #modal-footer>\n                    <sw-button variant="primary"\n                               @click="showMessagesModal = false">\n                        {{ $tc(\'job-listing.page.listing.index.close\') }}\n                    </sw-button>\n                </template>\n            </sw-modal>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:["notification"],props:{jobTypes:{type:Array,required:!1,default:function(){return[]}},groupCreationDate:{type:Object,required:!1,default:function(){}},sortType:{type:String,required:!0,default:function(){return"status"}}},data:function(){return{groupedItems:[],isLoading:!1,showJobInfoModal:!1,showJobSubsModal:!1,currentJobID:null,showMessagesModal:!1,currentJobMessages:null}},computed:{jobRepository:function(){return this.repositoryFactory.create("od_scheduler_job")},messageRepository:function(){return this.repositoryFactory.create("od_scheduler_job_message")},jobMessagesColumns:function(){return[{property:"message",dataIndex:"message",label:this.$tc("job-listing.page.listing.grid.column.message"),allowResize:!1,align:"left",width:"90px"}]},columns:function(){return[{property:"name",label:this.$tc("job-listing.page.listing.grid.column.name"),allowResize:!0,width:"500px"},{property:"status",label:this.$tc("job-listing.page.listing.grid.column.status"),allowResize:!0,width:"150px"},{property:"startedAt",label:this.$tc("job-listing.page.listing.grid.column.started-at"),allowResize:!0,width:"170px"},{property:"finishedAt",label:this.$tc("job-listing.page.listing.grid.column.finished-at"),allowResize:!0,width:"170px"},{property:"createdAt",label:this.$tc("job-listing.page.listing.grid.column.created-at"),allowResize:!0,width:"170px"},{property:"subJobs",label:this.$tc("job-listing.page.listing.grid.column.child-jobs"),allowResize:!0,width:"250px",visible:!0,sortable:!1},{property:"messages",label:this.$tc("job-listing.page.listing.grid.column.messages"),allowResize:!0,width:"350px",visible:!0,sortable:!1}]}},created:function(){this.initGroupedView()},watch:{sortType:function(){this.groupedItems=[],this.initGroupedView()},groupCreationDate:{handler:function(){this.groupedItems=[],this.initGroupedView()},deep:!0}},methods:{initGroupedView:function(){var e=this;this.isLoading=!0;var t=new E;return t.addFilter(E.equals("parentId",null)),t.addSorting(E.sort("createdAt","DESC",!1)),t.addAssociation("messages"),t.addAssociation("subJobs"),t.limit=null,this.jobTypes!==[]&&t.addFilter(E.equalsAny("type",this.jobTypes)),this.groupCreationDate.fromDate&&t.addFilter(E.range("createdAt",{gte:this.groupCreationDate.fromDate})),this.groupCreationDate.toDate&&t.addFilter(E.range("createdAt",{lte:this.groupCreationDate.toDate})),this.jobRepository.search(t,Shopware.Context.api).then((function(t){e.sortJobs(t)}))},sortJobs:function(e){var t=this;this.groupedItemsTypes=[],this.groupedItems=[],e.forEach((function(e){-1===t.groupedItemsTypes.findIndex((function(n){return n.title===e[t.sortType]}))&&t.groupedItemsTypes.push({title:e[t.sortType]})})),this.getJobsByType(this.groupedItemsTypes)},getJobsByType:function(e){var t=this;return e.forEach((function(e){var n=new E;n.addFilter(E.equals("parentId",null)),n.addSorting(E.sort("createdAt","DESC",!1)),n.addAssociation("messages"),n.addAssociation("subJobs"),t.groupCreationDate.fromDate&&n.addFilter(E.range("createdAt",{gte:t.groupCreationDate.fromDate})),t.groupCreationDate.toDate&&n.addFilter(E.range("createdAt",{lte:t.groupCreationDate.toDate})),t.jobTypes!==[]&&n.addFilter(E.equalsAny("type",t.jobTypes)),"status"===t.sortType&&n.addFilter(E.equals("status",e.title)),"type"===t.sortType&&n.addFilter(E.equals("type",e.title)),t.jobRepository.search(n,Shopware.Context.api).then((function(n){var o="status"===t.sortType?e.title.toUpperCase():n[0].name,s="status"===t.sortType?t.$tc("job-listing.page.listing.grid.job-status."+e.title):n[0].name;t.groupedItems.push({title:s,type:o,items:a.sortMessages(n)})}))})),this.isLoading=!1,this.groupedItems},getMessagesCount:function(e,t){return e.messages.filter((function(e){return e.type===t+"-message"})).length},getChildrenCount:function(e,t){return e.subJobs.filter((function(e){return e.status===t})).length},onRefresh:function(){this.initGroupedView()},canDelete:function(e){return-1!==["error","succeed"].indexOf(e.status)},onDeleteJob:function(e){var t=this;this.jobRepository.delete(e,Shopware.Context.api).then((function(){t.updateList()}))},rescheduleJob:function(e){var t=this;this.OdRescheduleService.rescheduleJob(e).then((function(){t.createNotificationSuccess({message:"Job has been rescheduled successfully."}),t.updateList()})).catch((function(){t.createNotificationError({message:"Unable reschedule job."})}))},showJobInfo:function(e){this.currentJobID=e,this.showJobInfoModal=!0},showSubJobs:function(e){this.currentJobID=e,this.showJobSubsModal=!0},showJobMessages:function(e){this.currentJobMessages=e.messages,this.showMessagesModal=!0}},beforeDestroy:function(){clearInterval(this.reloadInterval)}})},vDoJ:function(e,t,n){var o=n("meBW");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("6e2f8636",o,!0,{})},vIYC:function(e,t,n){}});
//# sourceMappingURL=od-scheduler.js.map